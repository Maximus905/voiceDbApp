(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports={modalBody:"style_modalBody__2wfq7",modalBodySmall:"style_modalBodySmall__3SHRd"}},146:function(e,t,n){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__2ctIA",indents:"style_indents__1vRt1",size:"style_size__2UtDY style_indents__1vRt1"}},147:function(e,t,n){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__3amkx",indents:"style_indents__2vdkK",size:"style_size__15Llz style_indents__2vdkK"}},149:function(e,t,n){},212:function(e,t,n){e.exports=n.p+"static/media/logo_brs_small.9f0fd020.png"},213:function(e,t,n){e.exports={customHeader:"navBar_customHeader__1B2rr"}},223:function(e,t,n){e.exports=n(479)},401:function(e,t,n){},402:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),s=n(66),i=(n(232),n(149),n(12)),l=n(13),c=n(15),u=n(14),d=n(16),p=r.a.createContext(),h=n(63),m=n(75),f=n.n(m),b={app:{height:"100%",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr auto",gridTemplateAreas:"'header' 'body' 'footer'",msGridColumns:"1fr",msGridRows:"auto 1fr auto"},header:{gridArea:"header",msGridRow:1,msGridColumn:1},body:{gridArea:"body",overflowY:"auto",msGridRow:2,msGridColumn:1},footer:{gridArea:"footer",msGridRow:3,msGridColumn:1}},v=Object(h.create)(f()()).createStyleSheet(b).attach(),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).appRefs={app:null,header:null,body:null,footer:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=v.classes;return r.a.createElement("div",{className:t.app,ref:function(t){return e.appRefs.app=t}},r.a.createElement(p.Provider,{value:{appRefs:this.appRefs,css:t}},this.props.children))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),t}(a.Component);g.Header=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.Consumer,null,function(t){var n=t.appRefs,a=t.css;return r.a.createElement("div",{className:a.header,ref:function(e){return n.header=e}},e.props.children)})}}]),t}(a.Component),g.Body=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.Consumer,null,function(t){var n=t.appRefs,a=t.css;return r.a.createElement("div",{className:a.body,ref:function(e){return n.body=e}},e.props.children)})}}]),t}(a.Component),g.Footer=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.Consumer,null,function(t){var n=t.appRefs,a=t.css;return r.a.createElement("div",{className:a.footer,ref:function(e){return n.footer=e}},e.props.children)})}}]),t}(a.Component);var y=g,I=n(8),E=n(212),C=n.n(E),S=n(213),w=n.n(S),O={width:38},j=function(){return r.a.createElement(I.o,{fluid:!0},r.a.createElement(I.o.Header,null,r.a.createElement(I.o.Brand,{className:w.a.customHeader},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:C.a,style:O,alt:"img"})))),r.a.createElement(I.l,null,r.a.createElement(I.n,{eventKey:1,href:"/locations"},"\u041e\u0444\u0438\u0441\u044b"),r.a.createElement(I.n,{eventKey:2,href:"/device/info"},"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(I.m,{eventKey:7,title:"Phones",id:"basic-nav-dropdown-1"},r.a.createElement(I.g,{eventKey:7.1,href:"/basePhone"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b \u0418\u043d\u0444\u043e"),r.a.createElement(I.g,{eventKey:7.1,href:"/usersPhone"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b \u043f\u043e \u0424\u0418\u041e")),r.a.createElement(I.m,{eventKey:3,title:"IP Planing",id:"basic-nav-dropdown-2"},r.a.createElement(I.g,{eventKey:3.1,href:"/network/ipam"},"IPAM")),r.a.createElement(I.n,{eventKey:4,href:"/report/new"},"Reports"),r.a.createElement(I.m,{eventKey:5,title:"Phone Reports",id:"basic-nav-dropdown-3"},r.a.createElement(I.g,{eventKey:5.1,href:"/report/phoneStatsReport"},"\u041f\u043e \u043c\u043e\u0434\u0435\u043b\u044f\u043c"),r.a.createElement(I.g,{eventKey:5.2,href:"/report/phoneStatsByClustersReport"},"\u041f\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u043c"),r.a.createElement(I.g,{eventKey:5.3,href:"/report/phoneStatsByNotUsedReport"},"\u041f\u043e \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u043c"))),r.a.createElement(I.l,{pullRight:!0},r.a.createElement(I.m,{eventKey:6,title:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",id:"basic-nav-dropdown-2"},r.a.createElement(I.g,{eventKey:6.1,href:"/admin/regions"},"\u0420\u0435\u0433\u0438\u043e\u043d\u044b"),r.a.createElement(I.g,{eventKey:6.2,href:"/admin/cities"},"\u0413\u043e\u0440\u043e\u0434\u0430"),r.a.createElement(I.g,{eventKey:6.3,href:"/admin/officeStatuses"},"\u0421\u0442\u0430\u0442\u0443\u0441\u044b \u043e\u0444\u0438\u0441\u043e\u0432"),r.a.createElement(I.g,{divider:!0}),r.a.createElement(I.g,{eventKey:6.1,href:"/admin/devparts"},"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(I.g,{eventKey:6.2,href:"/admin/portTypes"},"\u0422\u0438\u043f\u044b \u043f\u043e\u0440\u0442\u043e\u0432"),r.a.createElement(I.g,{divider:!0}),r.a.createElement(I.g,{eventKey:6.1,href:"/logs"},"\u041b\u043e\u0433\u0438 Hardware"),r.a.createElement(I.g,{eventKey:6.2,href:"/logs/phones"},"\u041b\u043e\u0433\u0438 Phones"),r.a.createElement(I.g,{divider:!0}),r.a.createElement(I.g,{eventKey:6.4,href:"/admin/vrf"},"VRF"),r.a.createElement(I.g,{eventKey:6.4,href:"/admin/NetworksTab"},"Networks(Table)"))))},x=n(9),k=n.n(x),N=n(32),D=n(18),_="REQUEST_ROOT_ELEMENTS_ID",P="RECEIVE_ROOT_ELEMENTS_ID",R="INVALIDATE_ROOT_ELEMENTS_ID",B="REQUEST_ELEMENTS",F="RECEIVE_ELEMENTS",L="INVALIDATE_ELEMENTS",T="NET_ITEM_TOGGLE_EXPAND_COLLAPSE",H="NET_ITEMS_EXPAND",W="UPDATE_NET_ITEMS",M="SELECT_NET_ITEMS",U="DESELECT_NET_ITEMS",z="SELECT_HOST_ITEMS",A="DESELECT_HOST_ITEMS",V=function(){var e=window.location.protocol,t=window.location.hostname,n=window.location.port;return"localhost"===t?"".concat(e,"//").concat("netcmdb-loc.rs.ru:8082"):"".concat(e,"//").concat(t).concat(""===n?"":":").concat(n)}(),K="".concat(V,"/ipam/rootElements.json"),G="".concat(V,"/ipam/netElementsByIds.json"),X="".concat(V,"/ipam/hostElementsByIds.json"),J="".concat(V,"/ipam/search.json"),Z="".concat(V,"/api/getNetData.json"),Y="".concat(V,"/api/getVrfList.json"),q="".concat(V,"/api/saveNetData.json"),Q=("".concat(V,"/api/saveNetData.json"),"".concat(V,"/api/getNetParent.json")),$=4;function ee(e){var t=e.netsIds,n=e.hostsIds;return{type:B,payload:{netsIds:t,hostsIds:n}}}function te(e){var t=e.networksData,n=e.hostsData;return{type:F,payload:{networksData:t,hostsData:n}}}function ne(e){return{type:W,payload:{itemsState:e}}}function ae(e,t){return t&&0!==t.length?t.filter(function(t){return!e[t]||e[t].didInvalidate}):[]}function re(e){var t=e.netsIds,n=e.hostsIds;return function(e,a){var r=ae(a().netData.networks,t),o=ae(a().netData.hosts,n);(r.length>0||o.length>0)&&e(function(e){var t=e.netsIds,n=e.hostsIds;return function(){var e=Object(D.a)(k.a.mark(function e(a){var r,o,s,i,l,c,u,d;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a(ee({netsIds:t,hostsIds:n})),r=[],t.length>0&&((o=new FormData).append("netsIds",t),s=new Request(G,{mode:"cors",method:"POST",body:o}),r.push(s)),n.length>0&&((i=new FormData).append("hostsIds",n),l=new Request(X,{mode:"cors",method:"POST",body:i}),r.push(l)),0!==r.length){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,c=r.map(function(){var e=Object(D.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:u=e.sent,d=u.reduce(function(e,t){return Object.assign(e,t)},{}),a(te(d)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log("---FETCH ELEMENTS ERROR!: ",e.t0.message);case 18:case"end":return e.stop()}},e,null,[[6,15]])}));return function(t){return e.apply(this,arguments)}}()}({netsIds:r,hostsIds:o}))}}var oe=n(33),se=n.n(oe);function ie(e){var t=e.netsIds,n=e.hostsIds;return{type:P,payload:{netsIds:t,hostsIds:n}}}function le(){return function(){var e=Object(D.a)(k.a.mark(function e(t){var n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_}),e.next=3,se.a.get(K);case 3:n=e.sent,a=n.data.rootElementsIds,t(ie(a));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}var ce,ue=n(11),de=n.n(ue),pe=function(e){return{type:"SET_FILTER",payload:{searchResult:e.searchResult}}},he=function(e){return{type:"SET_CURSOR",payload:{position:e}}},me=function(e){return{type:"BACKUP_NET_ITEMS",payload:{itemsState:e}}},fe=function(e){return function(t,n){var a=n().filter,r=a.itemList,o=a.netIdBackupList;if(r&&(!r.length||0!==r.length)){var s=r[e],i=void 0!==ce?r[ce]:{};if(!de.a.not.object(s)){var l=s.id,c=s.rec_type,u=s.ip_path,d=de.a.string(u)?u.split(",").map(function(e){return parseInt(e)}):[],p=Object(N.a)(d),h=[];"network"===c?p.push(l):"host"===c&&h.push(l),t(re({netsIds:p,hostsIds:h}));var m=o.filter(function(e){return!p.includes(e)}),f=o.filter(function(e){return!m.includes(e)}),b=p.filter(function(e){return!f.includes(e)}).concat(f),v=function(e,t){var n=t.filter,a={};return e.forEach(function(e){if(n.netItemsBackup[e]){var t=n.netItemsBackup[e],r=t.isSelected,o=t.isExpanded;a[e]={isSelected:r,isExpanded:o}}}),a}(m,n()),g=function(e,t){var n=t.netData,a=t.filter.netItemsBackup,r={};return e.forEach(function(e){if(a[e]){var t=a[e],o=t.isSelected,s=t.isExpanded;r[e]={isSelected:o,isExpanded:s}}else{var i=n.networks[e],l=i.isSelected,c=i.isExpanded;r[e]={isSelected:l,isExpanded:c}}}),r}(b,n());de.a.not.emptyObject(v)&&t(ne(v)),de.a.not.emptyObject(g)&&t(me(g)),t({type:H,payload:{netsIds:d}}),i&&void 0!==i.id&&("network"===i.rec_type?t(function(e){return{type:U,payload:{netsIds:e}}}([i.id])):"host"===i.rec_type&&t(function(e){return{type:A,payload:{hostsIds:e}}}([i.id]))),"network"===c?t(function(e){return{type:M,payload:{netsIds:e}}}([l])):"host"===c&&t(function(e){return{type:z,payload:{hostsIds:e}}}([l])),ce=e}}}};var be=n(67),ve=n(17),ge=n(214),ye=n.n(ge),Ie=n(100),Ee=n.n(Ie),Ce=function(e){return Ee()(e).rgb().toString()},Se=function(e,t){return Ee()(e).darken(t).rgb().toString()},we=function(e,t){return Ee()(e).lighten(t).rgb().toString()},Oe=r.a.createContext(),je=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(c.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(Oe.Consumer,null,function(n){return r.a.createElement(e,Object.assign({},t.props,{tableContext:n}))})}}]),n}(a.PureComponent)},xe=Oe.Provider,ke="5px",Ne="100%",De="400px",_e="100%",Pe="300px",Re="100px",Be=300,Fe={fetchData:{method:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve([]));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),bodyDataKey:"body",footerDataKey:"footer"}},Le="col_",Te="colSz_",He="colDc_",We=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).innerStyles=function(){return[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"saveColumnParams",value:function(){var e=this.props,t=e.index,n=e.minWidth,a=e.maxWidth,r=e.fixed,o=e.accessor,s=e.filterable,i=e.sortable,l=e.tableContext,c=l.columnsParams;l.dimensions.columnsSizes[t]={minWidth:parseInt(n),width:parseInt(n),maxWidth:parseInt(a),fixed:r},c[t]={accessor:o,filterable:s,sortable:i}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.cssClasses,a=e.children,o=e.isHeader,s=e.writeParams,i=e.tableContext.joinCss,l=this.innerStyles();return o?(s&&this.saveColumnParams(),r.a.createElement("th",{className:i(l,n).join(" ")},t||a)):r.a.createElement("td",{className:i(l,n).join(" "),title:this.props.hint},a)}}]),t}(a.Component);We.defaultProps={minWidth:Re,maxWidth:Be,padding:ke,fixed:!1,changeWidth:!0,sortable:!1,filterable:!1,order:0};var Me=je(We),Ue=n(34),ze=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).innerStyles=function(){var e=n.props.tableContext.jssSheet.classes,t=n.props,a=t.isHeader,r=t.isFooter,o=t.isSelected,s=[];return a||r?a?s.push(e.tableHeaderRowDc):r&&s.push(e.tableFooterRowDc):s.push(e.tableBodyRowDc),o&&s.push(e.selectedRow),s},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isHeader,n=e.isFooter,a=e.rowType,o=e.id,s=e.tableContext,i=s.filterComponentsByType,l=s.joinCss,c=s.jssSheet.classes,u=s.createRowRef,d=t?{isHeader:!0}:n?{isFooter:!0}:{};return r.a.createElement(Ue.b,{disable:t||n,holdToDisplay:-1,id:function(e){return"network"===e?"netRowMenu":"host"===e?"hostRowMenu":""}(a),renderTag:"tr",attributes:{className:l(this.innerStyles(),this.props.cssClasses).join(" "),"data-row-type":a,"data-id":o},collect:function(){return{rowType:a,id:o}}},i(this.props.children,Me,d),t||n?r.a.createElement("td",{className:c.scrollSz}):r.a.createElement("td",{className:"scrollBodyCell "+c.scrollBodySz,ref:o?u(o,a):null}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.rowType,n=e.id,a=void 0===n?null:n;(0,e.tableContext.deleteRowRef)(a,t)}}]),t}(a.Component);ze.defaultProps={};var Ae=je(ze),Ve=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).tableInnerStyles=function(){var e=n.props.tableContext.jssSheet.classes;return[e.table,e.tableHeaderSz]},n.headerInnerStyles=function(){return[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"buildHeaderRows",value:function(){var e=this.props,t=e.children,n=e.tableContext,a=n.filterComponentsByType,o=n.columnsCss,s=n.jssSheet,i=n.joinCss,l=s.classes;if(0===o.length)return console.log("Header lvl: columns css array is empty! Can't build header!"),null;var c=a(t,Ae,{isHeader:!0});if(c.length>0){var u=c[c.length-1],d=a(u.props.children,Me);d=d.map(function(e){var t=e.props.index,n=o[t],a=[l[n.columnClass],l[n.columnSizeClass],l[n.columnDecoClass]],s=i(a,e.props.cssClasses);return r.a.cloneElement(e,{cssClasses:s.join(" "),writeParams:!0})}),c[c.length-1]=r.a.cloneElement(u,{},Object(N.a)(d))}return c}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,n=e.tableContext.joinCss;return r.a.createElement("table",{className:this.tableInnerStyles().join(" ")},r.a.createElement("thead",{className:n(this.headerInnerStyles(),t)},this.buildHeaderRows()))}}]),t}(a.PureComponent);Ve.defaultProps={};var Ke=je(Ve),Ge=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tbodyInnerStyles=function(e){var t=e.jssSheet.classes;return[t.tableBody,t.tableBodyDc]},n.tableInnerStyles=function(e){var t=e.jssSheet.classes;return[t.table,t.tableBodySz]},n.parseData=function(e){var t=n.props.tableContext.columnsParams;return de.a.not.array(e)?null:e.map(function(e,n){return r.a.createElement(Ae,{index:n,key:n},t.map(function(t,n){var a=t.accessor;return r.a.createElement(Me,{index:n,key:n},e[a])}))})},n.buildBodyHeader=function(){var e=n.props.tableContext,t=e.columnsCss,a=e.jssSheet.classes;return 0===t.length?(console.log("Body lvl: columns css array is empty! Can't build header!"),null):r.a.createElement("tr",null,t.map(function(e,t){var n=a[e.columnSizeClass];return r.a.createElement("th",{className:n,key:t},t)}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){window.bodyref=this.tbodyRef;var e=this.props,t=e.data,n=e.tableContext,a=e.tableContext,o=a.jssSheet,s=a.joinCss,i=a.formBodyData,l=a.columnsParams,c=o.classes;return r.a.createElement("table",{className:this.tableInnerStyles(n).join(" ")},r.a.createElement("thead",{className:c.hideHeader},this.buildBodyHeader()),r.a.createElement("tbody",{className:s(this.tbodyInnerStyles(n),this.props.cssClasses).join(" ")},t?i(t,l):this.props.children))}}]),t}(a.PureComponent);Ge.defaultProps={};var Xe=je(Ge),Je=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tfootInnerStyles=function(e){var t=e.jssSheet.classes;return[t.tableFooter,t.tableFooterDc]},n.tableInnerStyles=function(e){var t=e.jssSheet.classes;return[t.table,t.tableHeaderSz]},n.childrenWrapper=function(e,t){if(0===r.a.Children.count(e))return r.a.createElement(Ae,null);var n=t(e,Ae,{isFooter:!0});return n.length>0?n:0===n.length?r.a.createElement(Ae,{isFooter:!0,index:0},e):r.a.createElement(Ae,null)},n.parseData=function(e){var t=n.props.tableContext.columnsParams;return de.a.not.array(e)?null:e.map(function(e,a){return r.a.createElement(Ae,{isFooter:!0,index:a,key:a,cssClasses:n.props.cssClasses},t.map(function(t,n){var a=t.accessor;return r.a.createElement(Me,{index:n,key:n},e[a])}))})},n.buildTableFooterHeader=function(){var e=n.props.tableContext,t=e.columnsCss,a=e.jssSheet.classes;return 0===t.length?(console.log("Body lvl: columns css array is empty! Can't build header in tableFooter!"),null):r.a.createElement(Ae,{isFooter:!0},t.map(function(e,t){return r.a.createElement(Me,{cssClasses:a[e.columnSizeClass],key:t},t)}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.tableContext,a=e.tableContext.jssSheet.classes;return r.a.createElement("table",{className:this.tableInnerStyles(n).join(" ")},r.a.createElement("thead",{className:a.hideHeader},this.buildTableFooterHeader()),r.a.createElement("tfoot",{className:this.tfootInnerStyles(n).join(" ")},t?this.parseData(t):this.props.children))}}]),t}(a.PureComponent);Je.defaultProps={};var Ze=je(Je),Ye=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).innerStyles=function(e){var t=e.jssSheet.classes;return[t.footerContainer,t.footerContainerDc]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tableContext;return r.a.createElement("div",{className:this.innerStyles(e).join(" ")},this.props.children)}}]),t}(a.PureComponent);Ye.defaultProps={pagination:!0};var qe=je(Ye),Qe=n(222),$e={option:function(e,t){return Object(ve.a)({},e,{padding:"2px 5px"})},container:function(e,t){return Object(ve.a)({},e)},control:function(e,t){return Object(ve.a)({},e,{minHeight:15})},dropdownIndicator:function(e,t){return Object(ve.a)({},e,{padding:0})},input:function(e,t){return Object(ve.a)({},e,{margin:0,padding:0})}},et=n(24),tt=n(38),nt=n.n(tt),at=2,rt="1px solid darkgray",ot=310,st=70,it=130,lt=50,ct=[{value:10,label:10},{value:50,label:50},{value:100,label:100},{value:200,label:200},{value:500,label:500},{value:-1,label:"All"}],ut="#007bff",dt="#ffc107",pt="#28a745",ht="#fff",mt="#808080",ft="#010101",bt={tableBgColor:Ce(ht),tableTextColor:we(ft,.01),headerBgColor:Ce(ut),headerTextColor:Se(ht,.01),bodyBgColor:Se(ht,.1),bodyTextColor:we(ft,.01),tableFooterBgColor:we(pt,1.3),tableFooterTextColor:Se(mt,.3),footerBgColor:we(ut,.4),footerTextColor:Se(mt,.8),footerIconColor:ft,disabledColor:mt,border:"1px solid ".concat(we(mt,.4)),stripedColorFactor:.08,hoverColorFactor:.2,paddingHeaderCell:[5,10],paddingBodyCell:[5,10],paddingTableFooterCell:[5,10],selectedRowBgColor:we(dt,.7),selectedRowTextColor:Se(mt,.8)},vt={container:{display:"flex",justifyContent:"space-between",alignItems:"center",width:ot,"& .rowsOnPage":{width:st}},containerDc:{padding:5,fontSize:"smaller",backgroundColor:"inherit"},pageNumber:{display:"flex",justifyContent:"space-around",alignItems:"center",width:it,"& input":{width:lt}},pageNumberDc:{"& input":{padding:2,margin:0,border:rt,borderRadius:3}},disabled:{color:[[bt.disabledColor],"!important"]},navButton:{padding:[1,3],color:bt.footerIconColor}},gt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).defaultValueRecordsOnPage=function(){var e=n.props.selectDefaultValueIndex,t=e>0&&e<=ct.length?e:at;return ct[t]},n.state={selectOptions:n.props.selectOptions,currentPage:1,pageNumberInput:"1",totalPages:99,rowsOnPage:n.defaultValueRecordsOnPage().value},n.pageNumberBlock=function(e){return r.a.createElement("div",{className:[e.pageNumber,e.pageNumber].join(" ")},"Page",r.a.createElement("input",{type:"text",onChange:n.onChangePageNumberBlock,onKeyUp:n.onKeyUpPageNumberBlock,value:n.state.pageNumberInput}),r.a.createElement("span",null,"of ",n.state.totalPages))},n.onChangePageNumberBlock=function(e){var t=e.target.value;n.setState(function(e){return{pageNumberInput:(""===t||parseInt(t)>0)&&parseInt(t)<=e.totalPages?t:e.pageNumberInput}})},n.onKeyUpPageNumberBlock=function(e){13===e.keyCode&&n.setState({pageNumberInput:""===n.state.pageNumberInput?"1":n.state.pageNumberInput,currentPage:""===n.state.pageNumberInput?1:parseInt(n.state.pageNumberInput)})},n.onChangeSelect=function(e){n.setState({rowsOnPage:e.value})},n.onClickNextPage=function(){n.setState(function(e){var t=e.currentPage===e.totalPages?e.currentPage:e.currentPage+1;return{currentPage:t,pageNumberInput:String(t)}})},n.onClickPrevPage=function(){n.setState(function(e){var t=1===e.currentPage?e.currentPage:e.currentPage-1;return{currentPage:t,pageNumberInput:String(t)}})},n.onClickFirstPage=function(){n.setState(function(e){return{currentPage:1,pageNumberInput:String(1)}})},n.onClickLastPage=function(){n.setState(function(e){var t=e.totalPages;return{currentPage:t,pageNumberInput:String(t)}})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t={styles:$e,options:this.state.selectOptions,defaultValue:this.defaultValueRecordsOnPage(),menuPlacement:"auto"},n=this.state,a=n.currentPage,o=n.totalPages;return r.a.createElement("div",{className:[e.container,e.containerDc].join(" ")},r.a.createElement("button",{className:e.navButton,disabled:1===a,onClick:this.onClickFirstPage},r.a.createElement(et.a,{icon:"fast-backward",className:1===a?e.disabled:""})),r.a.createElement("button",{className:e.navButton,disabled:1===a,onClick:this.onClickPrevPage},r.a.createElement(et.a,{icon:"backward",className:1===a?e.disabled:""})),this.pageNumberBlock(e),r.a.createElement("div",{className:"rowsOnPage"},r.a.createElement(Qe.a,Object.assign({},t,{onChange:this.onChangeSelect}))),r.a.createElement("button",{className:e.navButton,disabled:a===o,onClick:this.onClickNextPage},r.a.createElement(et.a,{icon:"forward",className:a===o?e.disabled:""})),r.a.createElement("button",{className:e.navButton,disabled:a===o,onClick:this.onClickLastPage},r.a.createElement(et.a,{icon:"fast-forward",className:a===o?e.disabled:""})))}},{key:"componentDidMount",value:function(){this.props.tableContext.shareState({currentPage:this.state.currentPage,rowsOnPage:this.state.rowsOnPage},"pagination")}},{key:"componentDidUpdate",value:function(){this.props.tableContext.shareState({currentPage:this.state.currentPage,rowsOnPage:this.state.rowsOnPage},"pagination"),this.props.tableContext.updateData()}}]),t}(a.PureComponent);gt.defaultProps={selectWidth:70,selectDefaultValueIndex:at,selectOptions:ct};je(nt()(vt)(gt));var yt={container:{display:"flex",justifyContent:"space-between",alignItems:"center",width:200,"& .rowsOnPage":{width:70}},containerDc:{padding:5,fontSize:"smaller",backgroundColor:"inherit"},pageNumber:{display:"flex",justifyContent:"space-around",alignItems:"center",width:130,"& input":{width:50}},pageNumberDc:{"& input":{padding:2,margin:0,border:"1px solid darkgray",borderRadius:3}},disabled:{color:[["#808080"],"!important"]},navButton:{padding:[1,3],color:"#010101"}},It=function(e){function t(){var e,n,a,o;Object(i.a)(this,t);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={itemNumberInput:"1",lastItemIdx:0},n.currentItemIdx=0,n.resetState=(a=[],function(e){a!==e&&(e.length&&e.length>0?(a=e,n.setState({itemNumberInput:"1",lastItemIdx:e.length-1}),n.currentItemIdx=0):(a=e,n.setState({itemNumberInput:"0",lastItemIdx:-1}),n.currentItemIdx=0))}),n.updateCurrentItemInput=(o=null,function(){var e=n.props.filterCursor;void 0!==e&&e!==o&&(o=e,n.currentItemIdx!==e&&(n.currentItemIdx=e),n.state.itemNumberInput!==""+(e+1)&&n.setState({itemNumberInput:""+(e+1)}))}),n.currentNumberBlock=function(e){return r.a.createElement("div",{className:[e.pageNumber,e.pageNumber].join(" ")},r.a.createElement("input",{type:"text",onChange:n.onChangePageNumberBlock,onKeyUp:n.onKeyUpPageNumberBlock,value:n.state.itemNumberInput}),r.a.createElement("span",null,"of ",n.state.lastItemIdx+1))},n.onChangePageNumberBlock=function(e){var t=e.target.value;n.setState(function(e){return{itemNumberInput:(""===t||parseInt(t)>0)&&parseInt(t)<=e.lastItemIdx+1?t:e.itemNumberInput}})},n.onKeyUpPageNumberBlock=function(e){if(13===e.keyCode){var t=n.props.setFilterCursor,a={itemNumberInput:""===n.state.itemNumberInput?"1":n.state.itemNumberInput};n.currentItemIdx=""===n.state.itemNumberInput?0:parseInt(n.state.itemNumberInput)-1,n.setState(a),t(n.currentItemIdx)}},n.onClickNextPage=function(){var e=n.props.setFilterCursor;n.currentItemIdx=n.currentItemIdx===n.state.lastItemIdx?n.currentItemIdx:n.currentItemIdx+1,e(n.currentItemIdx)},n.onClickPrevPage=function(){var e=n.props.setFilterCursor;n.currentItemIdx=0===n.currentItemIdx?n.currentItemIdx:n.currentItemIdx-1,e(n.currentItemIdx)},n.onClickFirstPage=function(){var e=n.props.setFilterCursor;n.currentItemIdx=0,e(n.currentItemIdx)},n.onClickLastPage=function(){var e=n.props.setFilterCursor;n.currentItemIdx=n.state.lastItemIdx,e(n.currentItemIdx)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.state.lastItemIdx<0)return null;var e=this.props.classes,t=this.state.lastItemIdx;return r.a.createElement("div",{className:[e.container,e.containerDc].join(" ")},r.a.createElement("button",{className:e.navButton,disabled:0===this.currentItemIdx,onClick:this.onClickFirstPage},r.a.createElement(et.a,{icon:"fast-backward",className:0===this.currentItemIdx?e.disabled:""})),r.a.createElement("button",{className:e.navButton,disabled:0===this.currentItemIdx,onClick:this.onClickPrevPage},r.a.createElement(et.a,{icon:"backward",className:0===this.currentItemIdx?e.disabled:""})),this.currentNumberBlock(e),r.a.createElement("button",{className:e.navButton,disabled:this.currentItemIdx===t,onClick:this.onClickNextPage},r.a.createElement(et.a,{icon:"forward",className:this.currentItemIdx===t?e.disabled:""})),r.a.createElement("button",{className:e.navButton,disabled:this.currentItemIdx===t,onClick:this.onClickLastPage},r.a.createElement(et.a,{icon:"fast-forward",className:this.currentItemIdx===t?e.disabled:""})))}},{key:"componentDidMount",value:function(){var e=this.props.filterItemList,t=void 0===e?[]:e;this.resetState(t),this.updateCurrentItemInput(),this.state.lastItemIdx>=0&&this.props.onChange(this.currentItemIdx)}},{key:"componentDidUpdate",value:function(){var e=this.props.filterItemList,t=void 0===e?[]:e;this.resetState(t),this.updateCurrentItemInput(),this.state.lastItemIdx>=0&&this.props.onChange(this.currentItemIdx)}}]),t}(a.PureComponent);It.defaultProps={lastItemIdx:-1,onChange:function(e){console.log("current - ",e)}};je(nt()(yt)(It));var Et={container:{display:"flex",justifyContent:"space-between",alignItems:"center",width:200,"& .rowsOnPage":{width:70}},containerDc:{padding:5,fontSize:"smaller",backgroundColor:"inherit"},pageNumber:{display:"flex",justifyContent:"space-around",alignItems:"center",width:130,"& input":{width:50}},pageNumberDc:{"& input":{padding:2,margin:0,border:"1px solid darkgray",borderRadius:3}},disabled:{color:[["#808080"],"!important"]},navButton:{padding:[1,3],color:"#010101"}},Ct=function(e){function t(){var e,n,a;Object(i.a)(this,t);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={itemNumberInput:"",isVisible:!1},n.updateState=function(e){a===e&&de.a.array(e)&&e.length>0?n.props.onChange(n.props.filterCursor):a!==e||n.state.isVisible?de.a.array(e)&&e.length>0?(a=e,n.setState({itemNumberInput:"1",isVisible:!0}),n.props.onNewItemsList(),n.props.onChange(n.props.filterCursor)):(a=e,n.setState({itemNumberInput:"0",isVisible:!1})):n.props.onHideFilter()},n.currentNumberBlock=function(e){var t=n.props.filteredItemsList.length;return r.a.createElement("div",{className:[e.pageNumber,e.pageNumber].join(" ")},r.a.createElement("input",{type:"text",onChange:n.onChangePageNumberBlock,onKeyUp:n.onKeyUpPageNumberBlock,value:n.state.itemNumberInput}),r.a.createElement("span",null,"of ",t))},n.onChangePageNumberBlock=function(e){var t=e.target.value,a=n.props.filteredItemsList,r=de.a.array(a)?a.length:0;n.setState(function(e){return{itemNumberInput:""===t||parseInt(t)>0&&parseInt(t)<=r?t:e.itemNumberInput}})},n.onKeyUpPageNumberBlock=function(e){if(13===e.keyCode){var t=""===n.state.itemNumberInput?"1":n.state.itemNumberInput;n.props.setFilterCursor(parseInt(t)-1)}},n.onClickNextPage=function(){var e=n.props,t=e.setFilterCursor,a=e.filterCursor;if(a<e.filteredItemsList.length){var r=a+1;n.setState({itemNumberInput:(r+1).toString()}),t(r)}},n.onClickPrevPage=function(){var e=n.props,t=e.setFilterCursor,a=e.filterCursor;if(a>0){var r=a-1;n.setState({itemNumberInput:(r+1).toString()}),t(r)}},n.onClickFirstPage=function(){var e=n.props.setFilterCursor;n.setState({itemNumberInput:1..toString()}),e(0)},n.onClickLastPage=function(){var e=n.props,t=e.setFilterCursor,a=e.filteredItemsList.length-1;n.setState({itemNumberInput:(a+1).toString()}),t(a)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.filteredItemsList,a=de.a.array(n)?n.length:0,o=this.props.filterCursor;return this.props.searchingState?r.a.createElement("div",{className:[t.container,t.containerDc].join(" ")},r.a.createElement("span",null,"...Searching")):0===a?null:r.a.createElement("div",{className:[t.container,t.containerDc].join(" ")},r.a.createElement("button",{className:t.navButton,disabled:0===parseInt(o),onClick:this.onClickFirstPage},r.a.createElement(et.a,{icon:"fast-backward",className:0===parseInt(o)?t.disabled:""})),r.a.createElement("button",{className:t.navButton,disabled:0===parseInt(o),onClick:this.onClickPrevPage},r.a.createElement(et.a,{icon:"backward",className:0===parseInt(o)?t.disabled:""})),this.currentNumberBlock(t),r.a.createElement("button",{className:t.navButton,disabled:parseInt(o)===a-1,onClick:this.onClickNextPage},r.a.createElement(et.a,{icon:"forward",className:parseInt(o)===a-1?t.disabled:""})),r.a.createElement("button",{className:t.navButton,disabled:parseInt(o)===a-1,onClick:this.onClickLastPage},r.a.createElement(et.a,{icon:"fast-forward",className:parseInt(o)===a-1?t.disabled:""})))}},{key:"componentDidMount",value:function(){var e=this.props.filteredItemsList;this.updateState(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.filteredItemsList;this.updateState(e)}}]),t}(a.PureComponent);Ct.defaultProps={onChange:function(e){return console.log("ON CHANGE FILTER: current - ",e)},onHideFilter:function(){return console.log("ON HIDE FILTER: default function")},onNewItemsList:function(){return console.log("ON NEW ITEMS LIST")}};var St=je(nt()(Et)(Ct)),wt=n(55),Ot=n(43),jt=(wt.b.add(Ot.c,Ot.a,Ot.e,Ot.d,Ot.f,Ot.b),Object(h.create)(f()())),xt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={tableBodyData:[],tableFooterData:[]},n.tableRefs={container:r.a.createRef(),bodyContainer:r.a.createRef(),rows:{}},n.scroll={width:17,height:17,cellWidth:17,bodyCellWidth:0},n.scrollPosition={},n.tableStyles={container:{display:"flex",flexDirection:"column",boxSizing:"border-box","& table, & thead, & tbody, & tfoot, & tr, & th, & td":{boxSizing:"border-box"}},tableContainer:{display:"flex",flexDirection:"column",flexGrow:1,overflowX:"auto",boxSizing:"border-box"},footerContainer:{display:"flex",flexGrow:0,flexShrink:0,justifyContent:"space-between",boxSizing:"border-box"},tableHeaderBodyContainer:{display:"flex",flexDirection:"column",flexBasis:1,flexGrow:1,flexShrink:0},tableFooterContainer:{flexGrow:0,flexShrink:0},tableHeaderContainer:{flexGrow:0,flexShrink:0},tableBodyContainer:{flexBasis:1,flexGrow:1,flexShrink:0,overflowY:"scroll"},table:{tableLayout:"fixed"},tableHeader:{},tableBody:{},tableFooter:{},tableContainerDc:{backgroundColor:bt.tableBgColor,color:bt.tableTextColor},tableBodyContainerDc:{backgroundColor:bt.bodyBgColor},tableHeaderRowDc:{backgroundColor:bt.headerBgColor,color:bt.headerTextColor,"& th":{padding:bt.paddingHeaderCell}},tableBodyDc:{backgroundColor:bt.bodyBgColor,color:bt.bodyTextColor},tableBodyRowDc:{backgroundColor:bt.bodyBgColor,"&:nth-child(odd)":{backgroundColor:n.props.bodyStriped?Se(bt.bodyBgColor,bt.stripedColorFactor):bt.bodyBgColor},"& td":{padding:bt.paddingBodyCell,wordWrap:"break-word"},"& td.scrollBodyCell":{padding:0},"&:hover":{backgroundColor:Se(bt.bodyBgColor,bt.hoverColorFactor)}},tableFooterDc:{backgroundColor:bt.tableFooterBgColor,color:bt.tableFooterTextColor},tableFooterRowDc:{backgroundColor:bt.tableFooterBgColor,"&:nth-child(odd)":{backgroundColor:n.props.bodyStriped?Se(bt.tableFooterBgColor,bt.stripedColorFactor):bt.tableFooterBgColor},"& td":{padding:bt.paddingTableFooterCell},"&:hover":{backgroundColor:Se(bt.tableFooterBgColor,bt.hoverColorFactor)}},footerContainerDc:{padding:"5px 5px",backgroundColor:bt.footerBgColor},containerSz:{height:"100%"},tableBodyContainerSz:{width:null},tableFooterContainerSz:{width:null},tableHeaderSz:{width:null},tableBodySz:{width:null},scrollSz:{width:null},scrollBodySz:{},hideHeader:{fontSize:[[0],"!important"],height:[[0],"!important"],"& tr":{border:[["none"],"!important"],padding:[[0],"!important"]},"& td":{border:[["none"],"!important"],padding:[[0],"!important"]},"& th":{border:[["none"],"!important"],padding:[[0],"!important"]}},selectedRow:{backgroundColor:bt.selectedRowBgColor+" !important",color:bt.selectedRowTextColor+" !important"}},n.jssSheet=jt.createStyleSheet(n.tableStyles,{link:!0}),n.updateColumnsSizesInDOM=function(){var e=n.tableContext,t=e.dimensions,a=e.dimensions.columnsSizes;e.columnsCss.forEach(function(e,t){n.jssSheet.getRule(e.columnSizeClass).prop("width",a[t].width)}),n.jssSheet.getRule("tableHeaderSz").prop("width",t.columnsWidth+n.scroll.cellWidth),n.jssSheet.getRule("tableBodySz").prop("width",t.columnsWidth+n.scroll.bodyCellWidth),n.jssSheet.getRule("tableBodyContainerSz").prop("width",t.columnsWidth+n.scroll.cellWidth),n.jssSheet.getRule("scrollSz").prop("width",n.scroll.cellWidth),n.jssSheet.getRule("scrollBodySz").prop("width",n.scroll.bodyCellWidth)},n.updateDimensions=function(){var e=n.tableContext,t=e.dimensions,a=e.dimensions.columnsSizes;t.containerWidth=n.tableRefs.container.current.clientWidth;var r=a.reduce(function(e,t){return e+t.minWidth},0),o=n.scroll.width;window.scrollSize=o;var s=Math.trunc(t.containerWidth-r-o),i=0;for(a.forEach(function(e){return e.width=e.minWidth});s>0&&0!==(i=a.reduce(function(e,t){return t.fixed||t.width>=t.maxWidth?e:++e},0));){if(s<i){var l=!0,c=!1,u=void 0;try{for(var d,p=a[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value;if(!(h.fixed||h.width>=h.maxWidth)&&(h.width++,--s<=0))break}}catch(S){c=!0,u=S}finally{try{l||null==p.return||p.return()}finally{if(c)throw u}}}var m=Math.trunc(s/i),f=!0,b=!1,v=void 0;try{for(var g,y=a[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var I=g.value;if(!(I.fixed||I.width>=I.maxWidth)){var E=I.maxWidth-I.width>=m?m:I.maxWidth-I.width;s-=E,I.width+=E}}}catch(S){b=!0,v=S}finally{try{f||null==y.return||y.return()}finally{if(b)throw v}}}var C=a.reduce(function(e,t){return e+t.width},0);n.scroll.cellWidth=C+n.scroll.width>t.containerWidth?n.scroll.width:t.containerWidth-C,n.scroll.bodyCellWidth=n.scroll.cellWidth-n.scroll.width,t.columnsWidth=C},n.updateColumns=function(){n.updateDimensions(),n.updateColumnsSizesInDOM()},n.updateData=Object(D.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.props.data){e.next=5;break}e.t0=n.props.data,e.next=8;break;case 5:return e.next=7,n.props.fetchData(n.tableContext.states.pagination);case 7:e.t0=e.sent;case 8:t=e.t0,n.parseFetchedResult(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log("---!!! Table: fetch data error! ",e.t1);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),n.formBodyData=function(e,t){return de.a.not.array(e)?null:e.map(function(e,n){return r.a.createElement(Ae,{index:n,key:n},t.map(function(t,n){var a=t.accessor;return r.a.createElement(Me,{index:n,key:n},e[a])}))})},n.createRowRef=function(e,t){if(de.a.number(e)&&!n.tableRefs.rows["".concat(e,"_").concat(t)]){var a=r.a.createRef();return n.tableRefs.rows["".concat(e,"_").concat(t)]=a,a}return n.tableRefs.rows["".concat(e,"_").concat(t)]},n.deleteRowRef=function(e,t){de.a.number(e)&&n.tableRefs.rows["".concat(e,"_").concat(t)]&&delete n.tableRefs.rows["".concat(e,"_").concat(t)]},n.scrollbarSizeLoad=function(e){n.scroll.width=e.scrollbarWidth,n.scroll.height=e.scrollbarHeight},n.tableContext={theme:bt,states:{},shareState:function(e,t){n.tableContext.states[t]=e},getState:function(e){return n.tableContext.states[e]},updateData:n.updateData,formBodyData:n.props.formBodyData?n.props.formBodyData:n.formBodyData,cssStyles:n.tableStyles,dimensions:{containerWidth:0,columnsSizes:[],columnsWidth:0},columnsCss:[],columnsParams:[],jssSheet:n.jssSheet,filterComponentsByType:n.filterComponentsByType,joinCss:t.joinCss,createRowRef:n.createRowRef,deleteRowRef:n.deleteRowRef,tableRefs:n.tableRefs,scrollPosition:n.props.scrollPosition,scrollToRow:n.scrollToRow},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"filterComponentsByType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];return r.a.Children.forEach(e,function(e,s){e.type===t&&(a&&(n.index=s),o.push(r.a.cloneElement(e,Object(ve.a)({},n,{key:s}))))}),o}},{key:"parseFetchedResult",value:function(e){var t=this.props,n=t.bodyDataKey,a=t.footerDataKey;if(de.a.object(e))e[n]&&this.setState({tableBodyData:e[n]}),e[a]&&this.setState({tableFooterData:e[a]});else{if(!de.a.array(e))throw new Error("Invalid data format");this.setState({tableBodyData:e})}}},{key:"getRowRef",value:function(e,t){return this.tableRefs.rows["".concat(e,"_").concat(t)]}},{key:"setColumnsCss",value:function(e){var t=this,n=this.tableContext.columnsCss,a=e.props.children,r=this.filterComponentsByType(a,Ae),o=[];if(r.length>0){var s=r[r.length-1].props.children;o=this.filterComponentsByType(s,Me)}else o=this.filterComponentsByType(a,Me);if(0===o.length)return console.log("Header doesn't have any Column's components as children"),[];var i=Le,l=Te,c=He;o.forEach(function(e,a){var r,o={columnClass:i+a,columnSizeClass:l+a,columnDecoClass:c+a};t.jssSheet.addRules((r={},Object(be.a)(r,o.columnClass,{}),Object(be.a)(r,o.columnSizeClass,{width:null}),Object(be.a)(r,o.columnDecoClass,{}),r)),n[a]=o})}},{key:"scrollToRow",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.getRowRef(e,t),o=this.tableRefs.bodyContainer;r&&o&&this.scrollAt(o,r,n,a)}},{key:"scrollAt",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n&&("top"===n||"bottom"===n)&&e&&e.current&&t&&t.current){var r=0,o=t.current.getBoundingClientRect(),s=e.current.getBoundingClientRect();switch(n.toLowerCase()){case"top":r=o.top-s.top-a;break;case"bottom":r=o.bottom-s.bottom+a}0!==r&&e.current.scrollBy(0,r)}}},{key:"render",value:function(){var e=this.jssSheet.classes,t=this.props.children;return this.setColumnsCss(this.filterComponentsByType(t,Ke)[0]),r.a.createElement(xe,{value:this.tableContext},r.a.createElement(ye.a,{onLoad:this.scrollbarSizeLoad}),r.a.createElement("div",{className:[e.container,e.containerSz].join(" "),ref:this.tableRefs.container},r.a.createElement("div",{className:[e.tableContainer,e.tableContainerDc].join(" ")},r.a.createElement("div",{className:[e.tableHeaderBodyContainer].join(" ")},r.a.createElement("div",{className:[e.tableHeaderContainer]},this.filterComponentsByType(t,Ke)),r.a.createElement("div",{className:[e.tableBodyContainer,e.tableBodyContainerSz,e.tableBodyContainerDc].join(" "),ref:this.tableRefs.bodyContainer},this.filterComponentsByType(t,Xe,{data:this.state.tableBodyData,scrollPosition:this.props.scrollPosition}))),r.a.createElement("div",{className:[e.tableFooterContainer,e.tableFooterContainerSz].join(" ")},this.filterComponentsByType(t,Ze,{data:this.state.tableFooterData}))),this.filterComponentsByType(t,qe)))}},{key:"componentDidMount",value:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.jssSheet.attach(),window.addEventListener("resize",this.updateColumns),this.updateColumns(),e.next=5,this.updateData();case 5:window.tabRefs=this.tableRefs;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(D.a)(k.a.mark(function e(t){var n,a,r,o,s,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,a=this.props,r=a.data,o=a.scrollPosition,n===r){e.next=5;break}return e.next=5,this.updateData();case 5:if(o||(this.scrollPosition={}),!o||this.scrollPosition.id!==o.id||this.scrollPosition.rec_type!==o.rec_type){e.next=8;break}return e.abrupt("return");case 8:o&&o.id&&(s=this.getRowRef(o.id,o.rec_type))&&s.current&&(this.scrollPosition={id:o.id,rec_type:o.rec_type},i=this.tableRefs.bodyContainer,this.scrollAt(i,s,"top",60));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateColumns)}}],[{key:"joinCss",value:function(e,t){return e=de.a.array(e)?e:de.a.nonEmptyString(e)?[e]:[],t=de.a.nonEmptyString(t)?[t]:de.a.array(t)?t:[],[].concat(Object(N.a)(e),Object(N.a)(t))}}]),t}(a.PureComponent);xt.Caption=function(e){return r.a.createElement("caption",null,e.children)},xt.defaultProps={fetchData:Fe.fetchData.method,bodyDataKey:Fe.fetchData.bodyDataKey,footerDataKey:Fe.fetchData.footerDataKey,width:Ne,minWidth:De,height:_e,minHeight:Pe,bordered:!0,bodyStriped:!0,isStretch:!0};var kt=xt,Nt=20,Dt={lvlBlock:{display:"inline-block",width:Nt},icon:{marginRight:8,"&:hover":{cursor:"pointer"}}},_t=(n(401),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).lvlIndent=function(){var e=n.props,t=e.lvl,a=e.classes;return r.a.createElement("div",{className:a.lvlBlock,style:{width:Nt*t}})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.classes,a=e.ip,o=e.netmask,s=e.comment,i=e.vrfName,l=e.bgpAs,c=e.netLocations,u=e.netChildren,d=e.hostChildren,p=e.isFetching,h=e.isExpanded,m=e.isSelected,f=e.toggleIconHandler,b={id:t,rowId:e.rowId,isSelected:m,rowType:"network"};if(p)return r.a.createElement(Ae,b,r.a.createElement(Me,null,this.lvlIndent(),"...loading"),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null));var v=[];c=de.a.object(c)?c:{};for(var g=Object.values(c),y=0;y<g.length;y++){var I=g[y];v.push(I)}var E=h?r.a.createElement(et.a,{icon:"minus",className:n.icon,onClick:f(t)}):r.a.createElement(et.a,{icon:"plus",className:n.icon,onClick:f(t)});return r.a.createElement(Ae,b,r.a.createElement(Me,null,this.lvlIndent(),E,a),r.a.createElement(Me,null,u.length,"/",d.length),r.a.createElement(Me,null,o),r.a.createElement(Me,null,v.join("; ")),r.a.createElement(Me,null,s),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null,i),r.a.createElement(Me,null,l),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null))}}]),t}(a.PureComponent));_t.defaultProps={lvl:0,isExpanded:!1,netChildren:[],hostChildren:[]};var Pt=nt()(Dt)(_t),Rt=n(219),Bt=n.n(Rt),Ft=20,Lt={lvlBlock:{display:"inline-block",width:Ft},icon:{marginRight:8},bgOldDevice:{color:"#f00 !important"}},Tt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).lvlIndent=function(){var e=n.props,t=e.lvl,a=e.classes;return r.a.createElement("div",{className:a.lvlBlock,style:{width:Ft*t}})},n.convertLastUpdate=function(){var e=n.props,t=e.lastUpdate,a=e.lastUpdateMs;if(t){var r=new Date(parseInt(a));return r.setHours(r.getHours()-$),"Last update: "+Bt()(r,"d.mm.yyyy H:MM")}return""},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=(e.ip,e.masklen,e.mask),a=e.ipCidr,o=e.location,s=(e.portComment,e.portDescr),i=e.portName,l=e.devName,c=e.devType,u=e.hostname,d=e.age,p=e.vrfName,h=e.dns,m=e.isFetching,f=e.isSelected,b=e.rowId,v=e.classes,g={id:t,rowId:b,isSelected:f,rowType:"host"};return m?r.a.createElement(Ae,g,r.a.createElement(Me,null,this.lvlIndent(),"...loading"),r.a.createElement(Me,null,"...loading"),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null)):r.a.createElement(Ae,g,r.a.createElement(Me,null,this.lvlIndent(),a),r.a.createElement(Me,null),r.a.createElement(Me,null,n),r.a.createElement(Me,null,o),r.a.createElement(Me,null,s),r.a.createElement(Me,null,i),r.a.createElement(Me,{cssClasses:d>72?v.bgOldDevice:"",hint:this.convertLastUpdate()},l),r.a.createElement(Me,null,p),r.a.createElement(Me,null),r.a.createElement(Me,null,c),r.a.createElement(Me,null,u),r.a.createElement(Me,null,h))}}]),t}(a.PureComponent);Tt.defaultProps={lvl:0,isExpanded:!1};var Ht=nt()(Lt)(Tt),Wt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.parentNetId,n=e.netsIds,a=e.hostsIds,o=e.lvl;return r.a.createElement(Ut,{netsIds:n,hostsIds:a,lvl:o,parentNetId:t})}}]),t}(a.PureComponent),Mt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).netIdsForUpdate=[],n.hostIdsForUpdate=[],n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.netsData,a=t.hostsData,o=t.toggleIconHandler,s=t.lvl,i=n.map(function(t){return t.isExpanded?(t.didInvalidate&&e.netIdsForUpdate.push(t.id),e.netIdsForUpdate=e.netIdsForUpdate.concat(t.netChildren),e.hostIdsForUpdate=e.hostIdsForUpdate.concat(t.hostChildren),r.a.createElement(r.a.Fragment,{key:"n"+t.id},r.a.createElement(Pt,Object.assign({},t,{lvl:s,toggleIconHandler:o,rowId:t.id})),r.a.createElement(Wt,{netsIds:t.netChildren,hostsIds:t.hostChildren,lvl:s+1}))):(t.didInvalidate&&e.netIdsForUpdate.push(t.id),r.a.createElement(r.a.Fragment,{key:"h"+t.id},r.a.createElement(Pt,Object.assign({},t,{lvl:s,toggleIconHandler:o,rowId:t.id}))))}),l=a.map(function(e){return r.a.createElement(Ht,Object.assign({},e,{lvl:s,key:"h"+e.id,rowId:e.id}))});return r.a.createElement(r.a.Fragment,null,i,l)}},{key:"componentDidMount",value:function(){(0,this.props.updateDataIfNeeded)({netsIds:this.netIdsForUpdate,hostsIds:this.hostIdsForUpdate})}},{key:"componentDidUpdate",value:function(){(0,this.props.updateDataIfNeeded)({netsIds:this.netIdsForUpdate,hostsIds:this.hostIdsForUpdate})}}]),t}(a.PureComponent);Mt.defaultProps={netsIds:[],hostsIds:[]};var Ut=Object(s.b)(function(e){var t=function(t){var n=t.netsIds,a=t.hostsIds;e(re({netsIds:n,hostsIds:a}))},n=function(t){return function(){e({type:T,payload:{id:t}})}};return function(e,a){var r=a.netsIds,o=a.hostsIds,s=a.lvl,i=[],l=[],c=!0,u=!1,d=void 0;try{for(var p,h=r[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value,f=e.netData.networks[m];f&&i.push(Object.assign({},Object(ve.a)({},f),{id:m}))}}catch(S){u=!0,d=S}finally{try{c||null==h.return||h.return()}finally{if(u)throw d}}var b=!0,v=!1,g=void 0;try{for(var y,I=o[Symbol.iterator]();!(b=(y=I.next()).done);b=!0){var E=y.value,C=e.netData.hosts[E];C&&l.push(Object.assign({},Object(ve.a)({},C),{id:E}))}}catch(S){v=!0,g=S}finally{try{b||null==I.return||I.return()}finally{if(v)throw g}}return{netsData:i,hostsData:l,lvl:s,updateDataIfNeeded:t,toggleIconHandler:n}}})(Mt),zt=n(102),At=function(e){return e.filter.itemList},Vt=function(e){return e.filter.cursor},Kt=Object(zt.a)([At,Vt],function(e,t){return e[t]}),Gt=(Object(zt.a)([function(e){return e.rootElementsIds.netsIds},function(e){return e.rootElementsIds.hostsIds},function(e){return e.netData.networks},function(e){return e.netData.hosts}],function(e,t,n,a){var r=[],o=!0,s=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,d=n[u];d&&(d.id=u,r.push(d))}}catch(y){s=!0,i=y}finally{try{o||null==c.return||c.return()}finally{if(s)throw i}}var p=[],h=!0,m=!1,f=void 0;try{for(var b,v=t[Symbol.iterator]();!(h=(b=v.next()).done);h=!0){var g=a[b.value];g&&p.push(g)}}catch(y){m=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(m)throw f}}return{netsData:r,hostsData:p}}),Object(zt.a)([function(e){return e.rootElementsIds}],function(e){return{netsIds:e.netsIds,hostsIds:e.hostsIds}})),Xt=3,Jt=function(e){function t(){var e,n,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searchBy:n.props.accessorList,statement:n.props.defaultStatement,value:""},n.timerId="",n.isEmpty=(a=Xt,function(e){switch(e.statement){case"=":case"!=":case">":case">=":case"<":case"<=":case"beginWith":case"endWith":return e.value.length<a;default:return!0}}),n.updateParentState=function(){n.isEmpty(n.state)?n.props.updateFilterState({}):n.props.updateFilterState(n.state)},n.onChangeHandler=function(e){n.setState({value:e.target.value})},n.onKeyUpHandler=function(e){13===e.keyCode&&(clearTimeout(n.timerId),n.updateParentState())},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.placeholder,a={width:t};return r.a.createElement("div",null,r.a.createElement("input",{className:"search-bar-form-control",style:a,placeholder:n,value:this.state.value,onChange:this.onChangeHandler,onKeyUp:this.onKeyUpHandler}))}},{key:"componentDidUpdate",value:function(){this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this.updateParentState,1200)}}]),t}(a.PureComponent);Jt.defaultProps={defaultStatement:"=",minLengthForSearch:Xt,options:{width:"150px"},placeholder:"search...."};var Zt=Jt,Yt=function e(){var t=this;Object(i.a)(this,e),this.filtersStore=[],this.listeners=[],this.statementSet={"=":"=","!=":"!=",">":">",">=":">=","<":"<","<=":"<=",beginWith:"begin with",endWith:"end with",empty:"empty",notEmpty:"not empty"},this.subscribe=function(e){if(de.a.function(e)){var n=t.listeners.length;return t.listeners.push(e),n}},this.unsubscribe=function(e){return!!t.listeners[e]&&(delete t.listeners[e],!0)},this.updateFilterState=function(e,n){return function(a){if(de.a.emptyObject(a)){if(de.a.emptyObject(n[e]))return;n[e]={}}else{var r=a.searchBy,o=a.statement,s=a.value;n[e]=Object.assign({},n[e],{searchBy:r,statement:o,value:s})}var i=!0,l=!1,c=void 0;try{for(var u,d=t.listeners[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){(0,u.value)(n)}}catch(p){l=!0,c=p}finally{try{i||null==d.return||d.return()}finally{if(l)throw c}}}},this.createFilter=function(e,n,a){var o=Object(ve.a)({accessorList:n},a);if(Object.keys(t.statementSet).indexOf(o.defaultStatement)<0)console.log("--- incorrect default statement for filter: ",o.defaultStatement);else switch(e){case"simpleSearch":var s=t.filtersStore.length;return t.filtersStore[s]={},r.a.createElement(Zt,Object.assign({},o,{updateFilterState:t.updateFilterState(s,t.filtersStore),statementSet:t.statementSet}))}}};Yt.propTypes={};var qt=Yt,Qt=(n(402),n(77)),$t=n(145),en=n.n($t),tn=n(40),nn=n.n(tn),an=n(146),rn=n.n(an),on=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.clearMargin?rn.a.formGroupZeroMargin:void 0,t=this.props,n=t.addOnPosition,o=t.addOnText,s=de.a.not.emptyString(this.props.label)?r.a.createElement(I.c,null,this.props.label):null,i=r.a.createElement(I.d,{type:"text",value:this.props.value,placeholder:this.props.placeholder,onChange:this.props.onChange,readOnly:this.props.readOnly,disabled:this.props.disabled,className:this.props.customSize?rn.a.size:void 0});if(n&&de.a.nonEmptyString(o)){var l=this.props.addOnPosition&&"left"===this.props.addOnPosition?r.a.createElement(I.f.Addon,null,this.props.addOnText):null,c=this.props.addOnPosition&&"right"===this.props.addOnPosition?r.a.createElement(I.f.Addon,null,this.props.addOnText):null;return r.a.createElement(a.Fragment,null,r.a.createElement(I.e,{controlId:this.props.controlId,bsClass:e},s,r.a.createElement(I.f,null,l,i,c)))}return r.a.createElement(a.Fragment,null,r.a.createElement(I.e,{controlId:this.props.controlId,bsClass:e},s,i))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}}]),t}(a.PureComponent);on.defaultProps={disabled:!1,clearMargin:!1};var sn=on,ln=n(220),cn=n.n(ln),un=n(147),dn=n.n(un),pn=function(e){function t(){var e,n,a,o,s;Object(i.a)(this,t);for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(d)))).state={value:"",isLoading:!1,optionsInvalidate:!0},n.optionList=[],n.setDefaultSelected=(a="",function(e){void 0===e||null===e||n.state.optionsInvalidate||n.state.isLoading||a!==e&&(a=e,0!==n.optionList.filter(function(t){return t.value===e}).length&&n.state.value!==e&&n.setState({value:a}))}),n.handleChange=function(e){var t=parseInt(e.target.value);!isNaN(t)&&t.toString&&t.toString()===e.target.value?n.setState({value:t}):n.setState({value:e.target.value})},n.defaultSelectedValue=function(){return 1===n.optionList.length?n.optionList[0].value:""},n.checkSelected=function(){n.state.isLoading||n.props.disabled||0===n.optionList.filter(function(e){return e.value===n.state.value}).length&&n.setState({value:n.defaultSelectedValue()})},n.checkFilter=(o=n.props.filter,function(){var e=n.props.filter;if(!cn()(o,e))return o=e,n.setState({optionsInvalidate:!0})}),n.invokeListeners=(s=[],function(){if(JSON.stringify(n.state)!==JSON.stringify(s)){var e=n.props.onChange;if(de.a.function(e)&&(e=[e]),!de.a.not.array(e)){s=nn()(n.state);var t=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)(0,o.value)(s)}catch(l){a=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}}}}),n.buildOptionList=function(){if(n.state.isLoading)return r.a.createElement("option",{value:null},"Loading...");var e=r.a.createElement("option",{value:n.props.emptyValue,key:"empty"},n.props.emptyLabel),t=n.optionList.map(function(e,t){var n=e.value,a=e.label;return r.a.createElement("option",{value:n,key:t},a)});return 1===n.optionList.length?t:n.props.emptyOption?[e].concat(Object(N.a)(t)):t},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateIfNeeded",value:function(){var e=Object(D.a)(k.a.mark(function e(){var t,n,a,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.isAsync,a=t.disabled,r=this.state,o=r.isLoading,s=r.optionsInvalidate,!o&&!a){e.next=4;break}return e.abrupt("return");case 4:if(this.checkFilter(),s){e.next=7;break}return e.abrupt("return");case 7:if(!n){e.next=14;break}return this.setState({isLoading:!0}),e.next=11,this.updateRemoteOptionList();case 11:this.optionList=e.sent,e.next=15;break;case 14:this.optionList=this.updateLocalOptionList();case 15:this.setState({isLoading:!1,optionsInvalidate:!1});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateRemoteOptionList",value:function(){var e=Object(D.a)(k.a.mark(function e(){var t,n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.remoteDataFetch,n=void 0===t?this.remoteDataFetchDefault:t,e.prev=1,e.next=4,n(this.props.filter);case 4:return a=e.sent,e.abrupt("return",de.a.array(a)?a:[]);case 8:e.prev=8,e.t0=e.catch(1),console.log("error in Select: ",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateLocalOptionList",value:function(){return this.props.optionList}},{key:"remoteDataFetchDefault",value:function(){var e=Object(D.a)(k.a.mark(function e(){var t,n,a,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.remoteSourceUrl,a=t.filter,r=void 0===a?[]:a,e.prev=1,e.next=4,se.a.post(n,r);case 4:return o=e.sent,s=o.data,e.abrupt("return",de.a.array(s)?s:[]);case 9:e.prev=9,e.t0=e.catch(1),console.log("error: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.clearMargin?dn.a.formGroupZeroMargin:void 0,t=this.state.value,n=de.a.string(this.props.label)?r.a.createElement(I.c,null,this.props.label):null;return r.a.createElement(a.Fragment,null,r.a.createElement(I.e,{controlId:this.props.controlId,style:this.props.style,bsClass:e},n,r.a.createElement(I.d,{onChange:this.handleChange,componentClass:"select",placeholder:"select item",value:t,disabled:this.props.disabled,className:this.props.smallSize?dn.a.size:void 0},this.buildOptionList())))}},{key:"componentDidMount",value:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateIfNeeded();case 2:this.setDefaultSelected(this.props.defaultSelected),this.checkSelected();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateIfNeeded();case 2:this.setDefaultSelected(this.props.defaultSelected),this.checkSelected(),this.invokeListeners();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(a.PureComponent);pn.defaultProps={emptyOption:!0,optionList:[],isAsync:!1,onChange:[],emptyValue:"",emptyLabel:"<\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e>",filter:[],selected:""};var hn=pn,mn=function(e){function t(){var e,n,a,r,o,s;Object(i.a)(this,t);for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(d)))).state={netIp:"",netComment:"",dataLoading:!1,dataReady:!1,saving:!1,vrfId:"",vrfList:[]},n.initialNetData={},n.currentNetData=function(){var e=n.state,t=e.netIp,a=e.netComment,r=e.vrfId,o=n.props;return{delNet:o.delNet,newNet:o.newNet,netId:o.netId,netIp:t,netComment:a,vrfId:r}},n.getParentNetworkId=function(){var e=Object(D.a)(k.a.mark(function e(t){var n,a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,se.a.get(Q,{params:{netId:t}});case 4:if(a=e.sent,!n.errors){e.next=7;break}throw new Error("Error update tree after saving data!");case 7:r=a.data.parentNetId,n={parentNetId:r},e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.errors=[e.t0];case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),n.clearStateIfGetInvisible=(a=n.props.isVisible,function(){a!==n.props.isVisible&&(a=n.props.isVisible,!1===n.props.isVisible&&n.clearState())}),n.clearState=(r=nn()(n.state),function(){n.setState(nn()(r))}),n.vrfList=(o=[],s=[],function(e){return JSON.stringify(o)===JSON.stringify(e)?s:de.a.not.array(e)?s:(o=e,s=e.map(function(e){var t=e.vrf_id,n=(e.vrf_rd,e.vrf_name);return e.vrf_comment,{value:t,label:n}}))}),n.handleClose=function(){n.props.onClose()},n.dataValidate=function(){var e=[],t=n.state,a=t.netIp,r=t.vrfId;return de.a.emptyString(a)&&e.push("\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u0441\u0435\u0442\u0438"),de.a.emptyString(r)&&e.push("\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d VRF"),e},n.handleSubmit=Object(D.a)(k.a.mark(function e(){var t,a,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.dataValidate(),!de.a.nonEmptyArray(t)){e.next=4;break}return alert(t.join("\n")),e.abrupt("return");case 4:return e.prev=4,n.setState({saving:!0}),e.next=8,se.a.post(q,n.currentNetData());case 8:if(a=e.sent,!(r=a.data).errors){e.next=12;break}throw r.errors.join("\n");case 12:n.setState({saving:!1}),o=r.netId,s=r.parentNetId,n.props.onSubmit(n.initialNetData,Object(ve.a)({},n.currentNetData(),{netId:o,parentNetId:s})),setTimeout(function(){n.handleClose()},700),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(4),console.log("ERROR: ",e.t0),alert(e.t0),n.setState({saving:!1}),n.currentNetData().delNet&&setTimeout(function(){n.handleClose()},700);case 24:case"end":return e.stop()}},e,null,[[4,18]])})),n.fetchNetData=function(){var e=Object(D.a)(k.a.mark(function e(t){var n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.a.get(Z,{params:{netId:t}});case 3:if(n=e.sent,(a=n.data).netData){e.next=8;break}return console.log("ERROR: fetchNetworkData"),e.abrupt("return",{});case 8:return e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchNetworkData",e.t0.toString()),e.abrupt("return",{});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),n.fetchVrfList=Object(D.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.a.get(Y,{params:{}});case 3:if(t=e.sent,(n=t.data).vrfList){e.next=8;break}return console.log("ERROR: fetchVrfList"),e.abrupt("return",[]);case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchVrfList",e.t0.toString()),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,null,[[0,11]])})),n.ipFormat=function(e){return new RegExp("^[0-9./]*$").test(e)},n.onChangeNetIp=function(e){n.ipFormat(e.target.value)&&n.setState({netIp:e.target.value})},n.onChangeNetComment=function(e){n.setState({netComment:e.target.value})},n.onChangeVrf=function(e){var t=e.value;n.setState({vrfId:t})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isVisible,o=(t.netId,t.newNet),s=t.delNet,i=this.state,l=i.dataReady,c=i.dataLoading,u=i.vrfList,d=i.vrfId,p=i.netIp,h=i.netComment,m=function(){return n&&l?c?r.a.createElement("h3",{align:"center"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."):s?r.a.createElement(I.p,null,r.a.createElement(I.b,{md:12},r.a.createElement("h4",{className:"text-center"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 ",r.a.createElement("strong",null,r.a.createElement("mark",null,p))))):r.a.createElement(a.Fragment,null,r.a.createElement(I.p,null,r.a.createElement(I.b,{md:4},r.a.createElement(sn,{controlId:"networkIp",addOnPosition:"left",addOnText:"network IP",onChange:e.onChangeNetIp,label:"\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u0441\u0435\u0442\u0438",value:p,placeholder:"CIDR notation"})),r.a.createElement(I.b,{md:8},r.a.createElement(sn,{controlId:"netComment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:e.onChangeNetComment,value:h,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u0438"}))),r.a.createElement(I.p,null,r.a.createElement(I.b,{md:4},r.a.createElement(hn,{label:"VRF",optionList:u,defaultSelected:d,onChange:e.onChangeVrf})))):null},f=function(){return s?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0441\u0435\u0442\u0438":o?"\u041d\u043e\u0432\u0430\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0441\u0435\u0442\u0438"};return s?r.a.createElement(I.h,{show:n,onHide:this.handleClose},r.a.createElement(I.k,{closeButton:!0},r.a.createElement(I.h.Title,null,f())),r.a.createElement(I.i,{className:en.a.modalBodySmall},m()),r.a.createElement(I.j,null,r.a.createElement(I.p,null,r.a.createElement(I.b,{md:8},r.a.createElement("h3",{align:"center",style:{margin:0}},this.state.saving?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"")),r.a.createElement(I.b,{md:4},r.a.createElement(I.a,{onClick:this.handleClose,bsStyle:"danger",disabled:this.state.saving},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(I.a,{onClick:this.handleSubmit,bsStyle:"success",disabled:this.state.saving},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))):r.a.createElement(I.h,{show:n,onHide:this.handleClose,bsSize:"large"},r.a.createElement(I.k,{closeButton:!0},r.a.createElement(I.h.Title,null,f())),r.a.createElement(I.i,{className:en.a.modalBody},m()),r.a.createElement(I.j,null,r.a.createElement(I.p,null,r.a.createElement(I.b,{md:8},r.a.createElement("h3",{align:"center",style:{margin:0}},this.state.saving?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445...":"")),r.a.createElement(I.b,{md:4},r.a.createElement(I.a,{onClick:this.handleClose,bsStyle:"danger",disabled:this.state.saving},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(I.a,{onClick:this.handleSubmit,bsStyle:"success",disabled:this.state.saving},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))}},{key:"componentDidMount",value:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(D.a)(k.a.mark(function e(){var t,n,a,r,o,s,i,l,c,u,d,p,h,m,f,b,v,g,y,I,E,C,S,w,O,j,x;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clearStateIfGetInvisible(),t=this.props,n=t.netId,a=t.newNet,r=t.delNet,o=t.isVisible,s=this.state,i=s.dataReady,l=s.dataLoading,!o||!n||a||r||i||l){e.next=21;break}return this.setState({dataLoading:!0}),e.prev=5,e.next=8,Promise.all([this.fetchNetData(n),this.fetchVrfList(),this.getParentNetworkId(n)]);case 8:c=e.sent,u=Object(Qt.a)(c,3),d=u[0].netData,p=u[1].vrfList,h=u[2].parentNetId,m=d.net_ip,f=d.net_comment,b=d.vrf_id,this.initialNetData=function(e,t){return{parentNetId:t,netId:e.net_id,netIp:e.net_ip,netComment:e.net_comment,vrfId:e.vrf_id}}(d,h),v=this.vrfList(p),this.setState({dataLoading:!1,dataReady:!0,netIp:m,netComment:f,vrfId:b,vrfList:v}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Loading net data ERROR",e.t0.toString());case 19:e.next=41;break;case 21:if(!o||!a||i||l){e.next=32;break}return this.setState({dataLoading:!0}),this.initialNetData=null,e.next=26,this.fetchVrfList();case 26:g=e.sent,y=g.vrfList,I=this.vrfList(y),this.setState({dataLoading:!1,dataReady:!0,vrfList:I}),e.next=41;break;case 32:if(!o||!r||i||l){e.next=41;break}return this.setState({dataLoading:!0}),e.next=36,Promise.all([this.fetchNetData(n),this.getParentNetworkId(n)]);case 36:E=e.sent,C=Object(Qt.a)(E,2),S=C[0].netData,w=C[1].parentNetId,O=S.net_ip,j=S.net_comment,x=S.vrf_id,this.initialNetData={parentNetId:w,netId:(k=S).net_id,netIp:k.net_ip,netComment:k.net_comment,vrfId:k.vrf_id},this.setState({dataLoading:!1,dataReady:!0,netIp:O,netComment:j,vrfId:x});case 41:case"end":return e.stop()}var k},e,this,[[5,16]])}));return function(){return e.apply(this,arguments)}}()}]),t}(a.Component);mn.defaultProps={isVisible:!1,onSubmit:function(e,t){console.log(e,t)}};var fn=mn,bn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searching:!1,isNetModalVisible:!1,newNet:!0,delNet:!1,netId:""},n.onCloseNetModal=function(){n.setState({isNetModalVisible:!1,netId:""})},n.onSubmitNetData=function(){var e=Object(D.a)(k.a.mark(function e(t,a){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set,a.netId&&r.add(a.netId),r.add(a.parentNetId),t&&(!1===t.delNet&&r.add(t.netId),r.add(t.parentNetId)),n.props.invalidateElementsInStore(Object(N.a)(r).filter(function(e){return!1!==e}),[]),r.has(!1)&&n.props.forceUpdateRootItems();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.factory=new qt,n.onChangeFiltersState=function(){var e=Object(D.a)(k.a.mark(function e(t){var a,r,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.updateFilterStore,e.prev=1,n.setState({searching:!0}),e.next=5,se.a.post(J,t);case 5:r=e.sent,o=r.data.searchResult,a({searchResult:void 0===o?[]:o}),n.setState({searching:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error: ",e.t0.response),n.setState({searching:!1});case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),n.filter=n.factory.createFilter("simpleSearch",[{nets:["net_ip","net_comment","vrf_name","vrf_comment","net_location"]},{host_ports:[""]}],{width:"200px",defaultStatement:"beginWith",minLengthForSearch:3,placeholder:"Search...",hideUnusedRows:!1}),n.renderBodyData=function(e){var t=e.netsIds,n=void 0===t?[]:t,a=e.hostsIds,o=void 0===a?[]:a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut,{netsIds:n,hostsIds:o,lvl:0}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={body:{netsIds:this.props.netsIds,hostsIds:this.props.hostsIds}},n=this.props,o=n.filteredItemsList,s=n.showCurrentFilteredItem,i=n.restoreStateFromFilter,l=n.setFilterCursor,c=n.filterCursor,u=n.currentFilteredItem;return window.fact=this.factory,r.a.createElement(a.Fragment,null,r.a.createElement(kt,{width:"100%",data:t,formBodyData:this.renderBodyData,fetchData:this.fetchData,scrollPosition:u},r.a.createElement(Ke,null,r.a.createElement(Ae,null,r.a.createElement(Me,{accessor:"",minWidth:"200px",maxWidth:"400px"},"IP address"),r.a.createElement(Me,{accessor:"",minWidth:"100px",fixed:!0},"Statistics",r.a.createElement("br",null),"(Nets/Hosts)"),r.a.createElement(Me,{accessor:"",minWidth:"130px",fixed:!0},"Network mask"),r.a.createElement(Me,{accessor:"",minWidth:"200px",maxWidth:"500px"},"Locations"),r.a.createElement(Me,{accessor:"",minWidth:"100px",maxWidth:"300px"},"Comment"),r.a.createElement(Me,{accessor:"",minWidth:"150px",maxWidth:"300px"},"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441"),r.a.createElement(Me,{accessor:"",minWidth:"150px",maxWidth:"300px"},"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(Me,{accessor:"",minWidth:"80px",fixed:!0},"VRF"),r.a.createElement(Me,{accessor:"",minWidth:"80px",fixed:!0},"AS"),r.a.createElement(Me,{accessor:"",minWidth:"100px",fixed:!0},"\u0422\u0438\u043f"),r.a.createElement(Me,{accessor:"",minWidth:"200px",maxWidth:"300px"},"Hostname"),r.a.createElement(Me,{accessor:"",minWidth:"100px",maxWidth:"300px"},"DNS"))),r.a.createElement(Xe,null),r.a.createElement(qe,null,r.a.createElement("div",{style:{display:"flex"}},this.filter,r.a.createElement(St,{filteredItemsList:o,searchingState:this.state.searching,onChange:s,onNewItemsList:i,onHideFilter:i,setFilterCursor:l,filterCursor:c})),r.a.createElement("div",null," "))),r.a.createElement(Ue.a,{id:"headerTable"},r.a.createElement(Ue.c,{data:{foo:"bar"},onClick:function(e,t){console.log(t)}},"Net Item 1")),r.a.createElement(Ue.a,{id:"netRowMenu"},r.a.createElement(Ue.c,{onClick:function(t,n){e.setState({isNetModalVisible:!0,netId:n.id,newNet:!1,delNet:!1})}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u0435\u0442\u044c"),r.a.createElement(Ue.c,{onClick:function(t,n){e.setState({isNetModalVisible:!0,netId:"",newNet:!0,delNet:!1})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u0435\u0442\u044c"),r.a.createElement(Ue.c,{onClick:function(t,n){e.setState({isNetModalVisible:!0,netId:n.id,newNet:!1,delNet:!0})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0441\u0435\u0442\u044c")),r.a.createElement(Ue.a,{id:"hostRowMenu"},r.a.createElement(Ue.c,{onClick:function(t,n){e.setState({isNetModalVisible:!0,netId:"",newNet:!0,delNet:!1})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u0435\u0442\u044c")),r.a.createElement(fn,{isVisible:this.state.isNetModalVisible,newNet:this.state.newNet,delNet:this.state.delNet,netId:this.state.netId,onClose:this.onCloseNetModal,onSubmit:this.onSubmitNetData}))}},{key:"componentDidMount",value:function(){var e=Object(D.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.factory.subscribe(this.onChangeFiltersState),(0,this.props.forceUpdateRootItems)();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(a.Component);bn.defaultProps={rootnetsIds:[],rootHostsId:[]};var vn=Object(s.b)(function(e){function t(){e(function(){var e=Object(D.a)(k.a.mark(function e(t,n){var a,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(le());case 2:a=n(),r=a.rootElementsIds,o=r.netsIds,s=r.hostsIds,t(re({netsIds:o,hostsIds:s}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}function n(){e(function(){var e=Object(D.a)(k.a.mark(function e(t,n){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(le());case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}function a(t,n){e(function(e){var t=e.netsIds,n=e.hostsIds;return{type:L,payload:{netsIds:t,hostsIds:n}}}({netsIds:t,hostsIds:n}))}function r(t){var n=t.searchResult;e(pe({searchResult:n}))}function o(t){e(he(t))}function s(t){e(fe(t))}function i(){e(function(e,t){var n=t().filter.netItemsBackup;de.a.nonEmptyObject(n)&&(e(ne(n)),e(me({})))})}return function(e,l){var c=Gt(e),u=c.netsIds,d=c.hostsIds,p=At(e),h=Vt(e),m=Kt(e);return{forceUpdateRootItems:t,forceUpdateRootIds:n,invalidateElementsInStore:a,updateFilterStore:r,setFilterCursor:o,showCurrentFilteredItem:s,getCurrentFilteredItem:Kt,restoreStateFromFilter:i,filteredItemsList:p,filterCursor:h,currentFilteredItem:m,netsIds:u,hostsIds:d}}})(bn),gn=(wt.b.add(Ot.g),n(39)),yn=n(148);function In(e){if(de.a.array(e))return e;if(!de.a.string(e))return[];var t=e.split(","),n=[],a=!0,r=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var l=s.value;(l=parseInt(l.trim(),10))>=0&&n.push(l)}}catch(c){r=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}function En(e){return null!=e&&"function"===typeof e[Symbol.iterator]}var Cn={netsIds:[],hostsIds:[],isFetching:!1,didInvalidate:!1},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case P:var r=a.netsIds,o=a.hostsIds;return Object.assign({},e,{netsIds:In(r),hostsIds:In(o),isFetching:!1,didInvalidate:!1});case R:return Object.assign({},e,{isFetching:!1,didInvalidate:!0});default:return e}},wn={networks:{},hosts:{},selectedNets:[],selectedHosts:[]},On={didInvalidate:!1,isSelected:!1,isFetching:!1,isExpanded:!1},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{netLocations:{},netChildren:[],hostChildren:[],didInvalidate:!1,isSelected:!1,isFetching:!1,isExpanded:!1},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t){case B:return Object.assign({},e,{didInvalidate:!1,isFetching:!0});case F:var a=n.net_id,r=n.net_ip,o=n.net_mask,s=n.net_comment,i=n.vrf_id,l=n.vrf_name,c=n.vrf_rd,u=n.net_children,d=n.host_children,p=n.net_location,h=n.bgp_as;return Object.assign({},e,{id:a,ip:r,netmask:o,comment:s,vrfId:i,vrfName:l,vrfRd:c,bgpAs:h,netLocations:JSON.parse(p),netChildren:In(u),hostChildren:In(d),didInvalidate:!1,isFetching:!1});case L:return Object.assign({},e,{didInvalidate:!0});case T:return Object.assign({},e,{isExpanded:!e.isExpanded});default:return e}},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t){case B:return Object.assign({},e,{didInvalidate:!1,isFetching:!0});case F:var a=n.port_id,r=n.port_ip,o=n.port_masklen,s=n.port_mask,i=n.port_ip_cidr,l=n.port_mac,c=n.dev_location,u=n.port_comment,d=n.port_desc,p=n.port_name,h=n.dev_title,m=n.dev_type,f=n.dev_hostname,b=n.dev_last_update,v=n.dev_last_update_ms,g=n.dev_age_h,y=n.vrf_name,I=n.dns;return Object.assign({},e,{id:a,ip:r,maskLen:o,mask:s,ipCidr:i,mac:l,location:c,portComment:u,portDescr:d,portName:p,devName:h,devType:m,hostname:f,lastUpdate:b,lastUpdateMs:v,age:g,vrfName:y,dns:I,didInvalidate:!1,isFetching:!1});case L:return Object.assign({},e,{didInvalidate:!0});default:return e}},kn=function(e){return Object.assign(Object(ve.a)({},nn()(e),{isSelected:!0}))},Nn=function(e){return Object.assign(Object(ve.a)({},nn()(e),{isSelected:!1}))},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?{}:a,o=e.networks,s=e.hosts,i=e.selectedNets,l=e.selectedHosts,c=r.netsIds,u=void 0===c?[]:c,d=r.networksData,p=void 0===d?{}:d,h=r.hostsIds,m=void 0===h?[]:h,f=r.hostsData,b=void 0===f?{}:f,v=r.id,g={},y={},I=[],E=[];switch(n){case B:case L:return u.forEach(function(e){g[e]=Object(ve.a)({},jn(o[e],n),{id:e})}),m.forEach(function(e){y[e]=Object(ve.a)({},xn(s[e],n),{id:e})}),Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g),hosts:Object.assign({},s,y)}));case F:if(En(p)){var C=!0,S=!1,w=void 0;try{for(var O,j=p[Symbol.iterator]();!(C=(O=j.next()).done);C=!0){var x=O.value,k=x.net_id;g[k]=jn(o[k],n,x)}}catch(te){S=!0,w=te}finally{try{C||null==j.return||j.return()}finally{if(S)throw w}}}if(En(b)){var N=!0,D=!1,_=void 0;try{for(var P,R=b[Symbol.iterator]();!(N=(P=R.next()).done);N=!0){var V=P.value,K=V.port_id;y[K]=xn(s[K],n,V)}}catch(te){D=!0,_=te}finally{try{N||null==R.return||R.return()}finally{if(D)throw _}}}return Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g),hosts:Object.assign({},s,y)}));case T:return g[v]=jn(o[v],n),Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g)}));case H:return u.forEach(function(e){var t;g[e]=(t=o[e],Object.assign(Object(ve.a)({},nn()(t),{isExpanded:!0})))}),Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g)}));case M:return u.forEach(function(e){g[e]=kn(o[e])}),Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g),selectedNets:u}));case U:return u.forEach(function(e){g[e]=Nn(o[e])}),I=i.filter(function(e){return!u.includes(e)}),Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g),selectedNets:I}));case z:return m.forEach(function(e){y[e]=kn(s[e])}),Object.assign({},Object(ve.a)({},e,{hosts:Object.assign({},s,y),selectedHosts:m}));case A:return m.forEach(function(e){y[e]=Nn(s[e])}),E=l.filter(function(e){return!m.includes(e)}),Object.assign({},Object(ve.a)({},e,{hosts:Object.assign({},s,y),selectedHosts:E}));case W:for(var G=r.itemsState,X=void 0===G?{}:G,J=Object.entries(X),Z=0;Z<J.length;Z++){var Y=J[Z],q=Object(Qt.a)(Y,2),Q=q[0],$=q[1],ee=e.networks[Q];ee&&(g[Q]=Object.assign(nn()(ee),$))}return Object.assign({},Object(ve.a)({},e,{networks:Object.assign({},o,g)}));default:return e}},_n={itemList:[],hostIdBackupList:[],netIdBackupList:[],hostItemsBackup:{},netItemsBackup:{},cursor:0},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_FILTER":var r=a.searchResult;return Object(ve.a)({},e,{itemList:r,cursor:0});case"SET_CURSOR":var o=a.position;return Object(ve.a)({},e,{cursor:o});case"BACKUP_NET_ITEMS":var s=a.itemsState,i=Object.keys(s).map(function(e){return parseInt(e)});return Object(ve.a)({},e,{netItemsBackup:s,netIdBackupList:i});case"SHOW_RESULT_ITEM":default:return e}},Rn=Object(gn.c)({rootElementsIds:Sn,netData:Dn,filter:Pn});var Bn=window.__REDUX_DEVTOOLS_EXTENSION__?Object(gn.e)(Rn,Object(gn.d)(Object(gn.a)(yn.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object(gn.e)(Rn,Object(gn.a)(yn.a));window.store=Bn,console.log("API_GET_ROOT_IDS",K),console.log("API_GET_NET_ELEMENTS_BY_ID",G),console.log("API_GET_HOST_ELEMENTS_BY_ID",X),Object(o.render)(r.a.createElement(s.a,{store:Bn},r.a.createElement(y,null,r.a.createElement(y.Header,null,r.a.createElement(j,null)),r.a.createElement(y.Body,null,r.a.createElement(vn,null)))),document.getElementById("root"))}},[[223,1,2]]]);
//# sourceMappingURL=main.5d7cc78b.chunk.js.map