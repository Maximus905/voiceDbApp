(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports={modalBody:"style_modalBody__2dIVL"}},128:function(e,t,a){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__2exhN"}},131:function(e,t,a){e.exports=a(303)},136:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),i=a.n(o),l=(a(136),a(38)),s=a(30),c=a(52),u=a(13),p=a.n(u),d=a(17),f=a(8),m=a(9),h=a(11),v=a(10),g=a(12),b=a(4),y=a.n(b),O=a(123),E=a.n(O),_=a(22),C=a.n(_),k=a(15),S=a.n(k),j=a(27),D=a.n(j),x=a(308),L=a(309),w=a(310),I=a(304),P=a(301),N=a(302),M=a(314),R=a(54),V=a(305),F=a(313),A=a(311),U=a(77),T=a.n(U),z=function(e){function t(){var e,a,n,o,i;Object(f.a)(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(s)))).state={value:"",isLoading:!1,optionsInvalidate:!0},a.optionList=[],a.setDefaultSelected=(n="",function(e){void 0===e||null===e||a.state.optionsInvalidate||a.state.isLoading||n!==e&&(n=e,0!==a.optionList.filter(function(t){return t.value===e}).length&&a.state.value!==e&&a.setState({value:n}))}),a.handleChange=function(e){console.log("type",typeof e.target.value);var t=parseInt(e.target.value);!isNaN(t)&&t.toString&&t.toString()===e.target.value?a.setState({value:t}):a.setState({value:e.target.value})},a.defaultSelectedValue=function(){return 1===a.optionList.length?a.optionList[0].value:""},a.checkSelected=function(){a.state.isLoading||a.props.disabled||0===a.optionList.filter(function(e){return e.value===a.state.value}).length&&a.setState({value:a.defaultSelectedValue()})},a.checkFilter=(o=a.props.filter,function(){var e=a.props.filter;if(!D()(o,e))return o=e,a.setState({optionsInvalidate:!0})}),a.invokeListeners=(i=[],function(){if(JSON.stringify(a.state)!==JSON.stringify(i)){var e=a.props.onChange;if(y.a.function(e)&&(e=[e]),!y.a.not.array(e)){i=S()(a.state);var t=!0,n=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0)(0,o.value)(i)}catch(s){n=!0,r=s}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}}}}),a.buildOptionList=function(){if(a.state.isLoading)return r.a.createElement("option",{value:null},"Loading...");var e=r.a.createElement("option",{value:a.props.emptyValue,key:"empty"},a.props.emptyLabel),t=a.optionList.map(function(e,t){var a=e.value,n=e.label;return r.a.createElement("option",{value:a,key:t},n)});return 1===a.optionList.length?t:a.props.emptyOption?[e].concat(Object(R.a)(t)):t},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"updateIfNeeded",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a,n,r,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.isAsync,n=t.disabled,r=this.state,o=r.isLoading,i=r.optionsInvalidate,!o&&!n){e.next=4;break}return e.abrupt("return");case 4:if(this.checkFilter(),i){e.next=7;break}return e.abrupt("return");case 7:if(!a){e.next=14;break}return this.setState({isLoading:!0}),e.next=11,this.updateRemoteOptionList();case 11:this.optionList=e.sent,e.next=15;break;case 14:this.optionList=this.updateLocalOptionList();case 15:this.setState({isLoading:!1,optionsInvalidate:!1});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateRemoteOptionList",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.remoteDataFetch,a=void 0===t?this.remoteDataFetchDefault:t,e.prev=1,e.next=4,a(this.props.filter);case 4:return n=e.sent,e.abrupt("return",y.a.array(n)?n:[]);case 8:e.prev=8,e.t0=e.catch(1),console.log("error in Select: ",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateLocalOptionList",value:function(){return this.props.optionList}},{key:"remoteDataFetchDefault",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a,n,r,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.remoteSourceUrl,n=t.filter,r=void 0===n?[]:n,e.prev=1,e.next=4,C.a.post(a,r);case 4:return o=e.sent,i=o.data,e.abrupt("return",y.a.array(i)?i:[]);case 9:e.prev=9,e.t0=e.catch(1),console.log("error: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.clearMargin?T.a.formGroupZeroMargin:void 0,t=this.state.value,a=y.a.string(this.props.label)?r.a.createElement(V.a,null,this.props.label):null;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,style:this.props.style,bsClass:e},a,r.a.createElement(A.a,{onChange:this.handleChange,componentClass:"select",placeholder:"select item",value:t,disabled:this.props.disabled,className:this.props.smallSize?T.a.size:void 0},this.buildOptionList())))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateIfNeeded();case 2:this.setDefaultSelected(this.props.defaultSelected),this.checkSelected();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateIfNeeded();case 2:this.setDefaultSelected(this.props.defaultSelected),this.checkSelected(),this.invokeListeners();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.PureComponent);z.defaultProps={emptyOption:!0,optionList:[],isAsync:!1,onChange:[],emptyValue:"",emptyLabel:"<\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e>",filter:[],selected:""};var G=z,B=function(e,t){return function(){var a=Object(d.a)(p.a.mark(function a(n){var r,o;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.post(e,n);case 3:return r=a.sent,o=r.data,a.abrupt("return",o[t].filter(function(e){return y.a.not.emptyString(e.value)}));case 8:return a.prev=8,a.t0=a.catch(0),console.log("error: ",a.t0),a.abrupt("return",[{value:"fetchDataError",label:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"}]);case 12:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Z=function(){var e=window.location.protocol,t=window.location.hostname,a=window.location.port;return"localhost"===t?"".concat(e,"//").concat("netcmdb-loc.rs.ru:8082"):"".concat(e,"//").concat(t).concat(""===a?"":":").concat(a)}(),J="".concat(Z,"/api/getDevData.json"),W="".concat(Z,"/api/getDevModulesData.json"),X="".concat(Z,"/api/getDevPortsData.json"),$="".concat(Z,"/api/getDevLocation.json"),K="".concat(Z,"/api/getVrfList.json"),H="".concat(Z,"/api/saveDev.json"),Q="".concat(Z,"/api/getRegions.json"),q="".concat(Z,"/api/getCities.json"),Y="".concat(Z,"/api/getOffices.json"),ee="".concat(Z,"/api/getDevTypes.json"),te="".concat(Z,"/api/getPlatforms.json"),ae="".concat(Z,"/api/getSoftwareList.json");console.log("BASE API URL",Z);var ne=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).optionListUpdater=B(Y,"offices"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.optionListUpdater}))}}]),t}(n.PureComponent);ne.defaultProps={label:"\u041e\u0444\u0438\u0441",controlId:"officeSelector"};var re=ne,oe=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).optionListUpdater=B(Q,"regions"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.optionListUpdater}))}}]),t}(n.PureComponent);oe.defaultProps={label:"\u0420\u0435\u0433\u0438\u043e\u043d",controlId:"regionSelector"};var ie=oe,le=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).optionListUpdater=B(q,"cities"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.optionListUpdater}))}}]),t}(n.PureComponent);le.defaultProps={label:"\u0413\u043e\u0440\u043e\u0434",controlId:"citySelector"};var se=le,ce=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).optionListUpdater=B(ee,"devTypes"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.optionListUpdater}))}}]),t}(n.PureComponent);ce.defaultProps={label:"\u0422\u0438\u043f(\u0440\u043e\u043b\u044c)",controlId:"devTypeSelector"};var ue=ce,pe=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).updateOptionList=B(te,"platforms"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.updateOptionList}))}}]),t}(n.PureComponent);pe.defaultProps={label:"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",controlId:"platformSelector"};var de=pe,fe=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).optionListUpdater=B(ae,"softwareList"),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(G,Object.assign({},this.props,{isAsync:!0,remoteDataFetch:this.optionListUpdater}))}}]),t}(n.PureComponent);fe.defaultProps={label:"\u041f\u041e",controlId:"softwareSelector"};var me=fe,he=a(128),ve=a.n(he),ge=a(312),be=function(e){function t(){var e,a,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.setDefaultValue=(n="",function(e){(y.a.string(e)||y.a.number(e))&&n!==e&&(n=e,a.setState({value:e}))}),a.handleChange=function(e){a.setState({value:e.target.value})},a.invokeListeners=function(){var e=a.props.onChange;if(y.a.function(e)&&(e=[e]),!y.a.not.array(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(Object.assign({},a.state))}}catch(l){n=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.clearMargin?ve.a.formGroupZeroMargin:void 0,t=this.props,a=t.addOnPosition,o=t.addOnText,i=y.a.not.emptyString(this.props.label)?r.a.createElement(V.a,null,this.props.label):null,l=r.a.createElement(A.a,{type:"text",value:this.state.value,placeholder:this.props.placeholder,onChange:this.handleChange,readOnly:this.props.readOnly,disabled:this.props.disabled,style:this.props.style});if(a&&y.a.nonEmptyString(o)){var s=this.props.addOnPosition&&"left"===this.props.addOnPosition?r.a.createElement(ge.a.Addon,null,this.props.addOnText):null,c=this.props.addOnPosition&&"right"===this.props.addOnPosition?r.a.createElement(ge.a.Addon,null,this.props.addOnText):null;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,bsClass:e},i,r.a.createElement(ge.a,null,s,l,c)))}return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,bsClass:e},i,l))}},{key:"componentDidMount",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}},{key:"componentDidUpdate",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}}]),t}(n.PureComponent);be.defaultProps={label:"",disabled:!1};var ye=be,Oe=a(78),Ee=a.n(Oe),_e=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.clearMargin?Ee.a.formGroupZeroMargin:void 0,t=this.props,a=t.addOnPosition,o=t.addOnText,i=y.a.not.emptyString(this.props.label)?r.a.createElement(V.a,null,this.props.label):null,l=r.a.createElement(A.a,{type:"text",value:this.props.value,placeholder:this.props.placeholder,onChange:this.props.onChange,readOnly:this.props.readOnly,disabled:this.props.disabled,className:this.props.customSize?Ee.a.size:void 0});if(a&&y.a.nonEmptyString(o)){var s=this.props.addOnPosition&&"left"===this.props.addOnPosition?r.a.createElement(ge.a.Addon,null,this.props.addOnText):null,c=this.props.addOnPosition&&"right"===this.props.addOnPosition?r.a.createElement(ge.a.Addon,null,this.props.addOnText):null;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,bsClass:e},i,r.a.createElement(ge.a,null,s,l,c)))}return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,bsClass:e},i,l))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}}]),t}(n.PureComponent);_e.defaultProps={disabled:!1,clearMargin:!0};var Ce=_e,ke=function(e){function t(){var e,a,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value})},a.invokeListeners=function(){var e=a.props.onChange;if(y.a.function(e)&&(e=[e]),!y.a.not.array(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(Object.assign({},a.state))}}catch(l){n=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},a.setDefaultValue=(n="",function(e){void 0!==e&&null!==e&&n!==e&&(n=e,a.setState({value:e}))}),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=y.a.not.emptyString(this.props.label)?r.a.createElement(V.a,null,this.props.label):null;return r.a.createElement(F.a,{controlId:"formControlsTextarea"},e,r.a.createElement(A.a,{componentClass:"textarea",placeholder:this.props.placeholder,onChange:this.handleChange,value:this.state.value}))}},{key:"componentDidMount",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}},{key:"componentDidUpdate",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}}]),t}(n.PureComponent);ke.defaultProps={};var Se=ke,je=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=y.a.not.emptyString(this.props.label)?r.a.createElement(V.a,null,this.props.label):null;return r.a.createElement(F.a,{controlId:"formControlsTextarea"},e,r.a.createElement(A.a,{componentClass:"textarea",placeholder:this.props.placeholder,onChange:this.props.onChange,value:this.props.value,disabled:this.props.disabled}))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}}]),t}(n.PureComponent);je.defaultProps={};var De=je,xe=a(306),Le=function(e){function t(){var e,a,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={value:a.props.checked},a.handleOnChange=function(){a.setState({value:!a.state.value})},a.setDefaultValue=(n=a.props.checked,function(e){n!==e&&(n=e,a.setState({value:e}))}),a.invokeListeners=function(){var e=a.props.onChange;if(y.a.function(e)&&(e=[e]),!y.a.not.array(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(Object.assign({},a.state))}}catch(l){n=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{title:this.props.title,onChange:this.handleOnChange,checked:this.state.value,disabled:this.props.disabled,style:this.props.style},this.props.children)}},{key:"componentDidMount",value:function(){this.setDefaultValue(this.props.checked),this.invokeListeners()}},{key:"componentDidUpdate",value:function(){this.setDefaultValue(this.props.checked),this.invokeListeners()}}]),t}(n.PureComponent);Le.defaultProps={disabled:!1,checked:!1};var we=Le,Ie=a(307),Pe=a(129),Ne=a.n(Pe),Me=function(e){function t(){var e,a,n,o;Object(f.a)(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={value:""},a.ref=r.a.createRef(),a.formatValue=a.props.formatValue?a.props.formatValue:function(e){return e},a.handleOnChange=function(e){a.state.value!==e.target.value&&(a.props.stateless?a.invokeListeners({value:a.formatValue(e.target.value)}):a.setState({value:e.target.value}))},a.setDefaultValue=(n="",function(e){a.props.stateless||void 0===e||null===e||n!==e&&(n=e,a.setState({value:e}))}),a.invokeListeners=(o=a.props.stateless?a.props.value:a.state,function(e){var t=function(){return a.props.stateless?e:a.state};if(void 0!==t()&&(a.props.stateless||JSON.stringify(o)!==JSON.stringify(t()))){o=t();var n=a.props.onChange;if(y.a.function(n)&&(n=[n]),!y.a.not.array(n)){var r=!0,i=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)(0,s.value)(o)}catch(u){i=!0,l=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw l}}}}}),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.value,t=void 0===e||null===e?"":e.toString?e.toString():"",a=Object.assign({wordWrap:"break-word"},this.props.style);return r.a.createElement(Ne.a,{html:t,innerRef:this.ref,onChange:this.handleOnChange,tagName:this.props.tagName,style:a,className:this.props.className,disabled:this.props.disabled})}},{key:"componentDidMount",value:function(){this.setDefaultValue(this.props.value),this.props.stateless||this.invokeListeners()}},{key:"componentDidUpdate",value:function(){this.setDefaultValue(this.props.value),this.props.stateless||this.invokeListeners()}}]),t}(n.PureComponent);Me.defaultProps={stateless:!1,value:"",tagName:"div",disabled:!0};var Re=Me,Ve=function(e){function t(){var e,a,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={value:a.props.defaultValue},a.handleOnClick=function(e){a.setState({value:!a.state.value})},a.setDefaultValue=(n=!0,function(e){n!==e&&(n=e,a.setState({value:e}))}),a.invokeListeners=function(){var e=a.props.onChange;if(y.a.function(e)&&(e=[e]),!y.a.not.array(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(Object.assign({},a.state))}}catch(l){n=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.value?r.a.createElement(M.a,{bsStyle:"success",bsSize:"xsmall",onClick:this.handleOnClick},"inUse"):r.a.createElement(M.a,{bsStyle:"danger",bsSize:"xsmall",onClick:this.handleOnClick},"not inUse")}},{key:"componentDidMount",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}},{key:"componentDidUpdate",value:function(){this.setDefaultValue(this.props.defaultValue),this.invokeListeners()}}]),t}(n.PureComponent);Ve.defaultProps={defaultValue:!0};var Fe=Ve,Ae=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).modulesSet=function(){var e=a.props.data;if(!y.a.not.array(e))return e.map(function(e,t){var n=r.a.createElement(Fe,{defaultValue:e.module_item_in_use,onChange:a.props.onChange("module_item_in_use")(t)});return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",{className:e.module_item_not_found?"bg-danger":null},e.module),r.a.createElement("td",null,e.module_item_sn),r.a.createElement("td",null,r.a.createElement(Re,{disabled:!1,tagName:"p",value:e.module_item_comment,onChange:a.props.onChange("module_item_comment")(t),style:{margin:0}})),r.a.createElement("td",{align:"center",valign:"middle"},n))})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(Ie.a,{responsive:!0,bordered:!0,striped:!0,condensed:!0,style:{tableLayout:"fixed"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-xs-1 text-center"},"#"),r.a.createElement("th",{className:"col-xs-3 text-center",align:"middle"},"\u041c\u043e\u0434\u0443\u043b\u044c"),r.a.createElement("th",{className:"col-xs-3 text-center",align:"middle"},"SN"),r.a.createElement("th",{className:"col-xs-3 text-center",align:"middle"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("th",{className:"col-xs-1 text-center",align:"middle"},"In Use"))),r.a.createElement("tbody",null,this.modulesSet()))}}]),t}(n.PureComponent);Ae.defaultProps={data:[]};var Ue=Ae,Te=a(55),ze=a.n(Te),Ge=function(e){function t(){var e,a,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={ip:"",mask:""},a.setDefaultIp=(n="",function(e){y.a.nonEmptyString(e)&&n!==e&&(n=e,a.setState({ip:e}))}),a.setDefaultMask=function(e){return function(t){y.a.integer(t)&&e!==t&&(e=t,a.setState({mask:t}))}}(""),a.handleChangeIp=function(e){a.setState({ip:e.target.value})},a.handleChangeMask=function(e){a.setState({mask:e.target.value})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.clearMargin?ze.a.formGroupZeroMargin:void 0,t=y.a.not.emptyString(this.props.label)?r.a.createElement(V.a,null,this.props.label):null,a=r.a.createElement(A.a,{type:"text",value:this.props.ip,placeholder:this.props.placeholder,onChange:this.props.onChangeIp,readOnly:this.props.readOnly,disabled:this.props.disabled,className:ze.a.ip}),o=r.a.createElement(A.a,{type:"text",value:this.props.mask,placeholder:this.props.placeholder,onChange:this.props.onChangeMask,readOnly:this.props.readOnly,disabled:this.props.disabled,className:ze.a.mask});return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{controlId:this.props.controlId,bsClass:e},t,a," / ",o))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}}]),t}(n.PureComponent);Ge.defaultProps={label:"",disabled:!1,clearMargin:!0};var Be=Ge,Ze=function(e){function t(){var e,a,n,o,i;Object(f.a)(this,t);for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(u)))).state={ports:[],ipEditMode:!1},a.setDefaultState=(n=[],function(e){if(!y.a.not.array(e)&&0!==e.length){var t=S()(e).map(function(e){return Object(s.a)({},e,{port_mask_len:null===e.port_mask_len?"":e.port_mask_len})});D()(n,t)||(n=t,a.setState({ports:t}))}}),a.ipFormat=function(e){return new RegExp("^[0-9.]*$").test(e)},a.numericFormat=function(e){return new RegExp("^[0-9]*$").test(e)},a.macAddressFormat=function(e){return new RegExp("^[0-9a-fA-F:]*$").test(e)},a.handlerOnChangeCheckbox=function(e){return function(){a.setState({ports:a.state.ports.map(function(t,a){return a===e?Object(s.a)({},t,{port_is_mng:!t.port_is_mng}):Object(s.a)({},t,{port_is_mng:!1})})})}},a.onChangeIp=function(e){return function(t){if(a.ipFormat(t.target.value)&&a.state.ports&&a.state.ports[e]){var n=S()(a.state.ports);n[e].port_ip=t.target.value,a.setState({ports:n})}}},a.onChangeMask=function(e){return function(t){if(a.numericFormat(t.target.value)&&a.state.ports&&a.state.ports[e]){var n=S()(a.state.ports);n[e].port_mask_len=t.target.value,a.setState({ports:n})}}},a.onChangePortName=function(e){return function(t){if(a.state.ports&&a.state.ports[e]){var n=S()(a.state.ports);n[e].port_details.portName=t.target.value,a.setState({ports:n})}}},a.onChangePortMac=function(e){return function(t){if(a.macAddressFormat(t.target.value)&&a.state.ports&&a.state.ports[e]){var n=S()(a.state.ports);n[e].port_mac=t.target.value,a.setState({ports:n})}}},a.onChangePortDescription=function(e){return function(t){if(a.state.ports&&a.state.ports[e]){var n=S()(a.state.ports);n[e].port_details.description=t.target.value,a.setState({ports:n})}}},a.onChangeVrf=function(e){return function(t){var n=t.value,r=a.props.vrfData.filter(function(e){return e.vrf_id===n}),o=Object(l.a)(r,1)[0];if(a.state.ports&&a.state.ports[e]){var i=S()(a.state.ports);i[e].port_vrf_id=n,i[e].port_vrf_name=o.vrf_name,a.setState({ports:i})}}},a.invokeListeners=function(e){return function(){if(!D()(e,a.state)){e=S()(a.state);var t=a.props.onChange;if(y.a.function(t)&&(t=[t]),!y.a.not.array(t)){var n=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){(0,i.value)(Object.assign({},a.state))}}catch(s){r=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}}}}({}),a.vrfList=(o=[],i=[],function(){var e=a.props.vrfData;return JSON.stringify(o)===JSON.stringify(e)?i:y.a.not.array(e)?i:(o=e,i=e.map(function(e){return{value:e.vrf_id,label:e.vrf_name}}))}),a.vrfName=function(e){if(null===e||void 0===e)return"";var t=(a.props.vrfData||[]).filter(function(t){return t&&t.vrf_id&&t.vrf_id===e});return Object(l.a)(t,1)[0].vrf_name||""},a.newPort=function(){var e=a.vrfList();return{port_id:null,port_ip:"0.0.0.0",port_comment:"",port_details:{portName:"",description:""},port_is_mng:!1,port_mac:"00:00:00:00:00:00",port_mask_len:"",port_vrf_id:e[0]?e[0].value:null,newPort:!0,deleted:!1}},a.onClickAddPort=function(){var e=S()(a.state.ports);y.a.not.array(e)||(e.push(a.newPort()),a.setState({ports:e}))},a.onClickDelPort=function(e){return function(){var t=S()(a.state.ports);y.a.not.array(t)||(t[e].deleted=!0,a.setState({ports:t}))}},a.portsSet=function(){var e=a.state.ports;if(!y.a.not.array(e)){var t=[],n=[],o=a.vrfList()[0]?a.vrfList()[0].value:"";return e.forEach(function(e,i){var l=e.port_ip,s=e.port_mac,c=e.port_mask_len,u=e.port_is_mng,p=e.port_details,d=e.port_vrf_id,f=e.newPort,m=e.deleted;if(f){if(m)return;var h=r.a.createElement(Be,{ip:l,mask:c,onChangeIp:a.onChangeIp(i),onChangeMask:a.onChangeMask(i)});t.push(r.a.createElement("tr",{key:i},r.a.createElement("td",null,r.a.createElement(M.a,{bsStyle:"danger",bsSize:"xsmall",onClick:a.onClickDelPort(i)},"Delete")),r.a.createElement("td",null,r.a.createElement(Ce,{customSize:!0,clearMargin:!0,value:p&&p.portName,onChange:a.onChangePortName(i)})),r.a.createElement("td",null,r.a.createElement(G,{optionList:a.vrfList(),defaultSelected:o,onChange:a.onChangeVrf(i),isAsync:!1,emptyOption:!1,clearMargin:!0,smallSize:!0})),r.a.createElement("td",null,h),r.a.createElement("td",null,r.a.createElement(Ce,{customSize:!0,clearMargin:!0,value:s,onChange:a.onChangePortMac(i)})),r.a.createElement("td",null,r.a.createElement(Ce,{customSize:!0,clearMargin:!0,value:p&&p.description,onChange:a.onChangePortDescription(i)})),r.a.createElement("td",{align:"center",valign:"middle"},r.a.createElement(xe.a,{title:"management interface",onChange:a.handlerOnChangeCheckbox(i),checked:u,style:{marginTop:0,marginBottom:0}}))))}else{var v=u?r.a.createElement(Be,{ip:l,mask:c,onChangeIp:a.onChangeIp(i),onChangeMask:a.onChangeMask(i)}):""===c?"".concat(l):"".concat(l,"/").concat(c);n.push(r.a.createElement("tr",{key:i},r.a.createElement("td",null,i+1),r.a.createElement("td",null,p&&p.portName),r.a.createElement("td",null,a.vrfName(d)),r.a.createElement("td",null,v),r.a.createElement("td",null,s),r.a.createElement("td",null,p&&p.description),r.a.createElement("td",{align:"center",valign:"middle"},r.a.createElement(xe.a,{title:"management interface",onChange:a.handlerOnChangeCheckbox(i),checked:u,style:{marginTop:0,marginBottom:0}}))))}}),Object(R.a)(t.reverse()).concat(n)}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(x.a,null,r.a.createElement(L.a,{md:12})),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:12},r.a.createElement(M.a,{bsStyle:"primary",bsSize:"small",style:{marginBottom:"1em"},onClick:this.onClickAddPort},"Add port"),r.a.createElement(Ie.a,{responsive:!0,bordered:!0,striped:!0,condensed:!0,style:{tableLayout:"fixed"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-xs-1 text-center"},"#"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"\u0418\u043c\u044f \u043f\u043e\u0440\u0442\u0430"),r.a.createElement("th",{className:"col-xs-1 text-center",align:"middle"},"VRF"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"IP"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"MAC"),r.a.createElement("th",{className:"col-xs-3 text-center",align:"middle"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("th",{className:"col-xs-1 text-center",align:"middle"},"Management"))),r.a.createElement("tbody",null,this.portsSet())))))}},{key:"componentDidMount",value:function(){this.setDefaultState(this.props.data)}},{key:"componentDidUpdate",value:function(){this.setDefaultState(this.props.data),this.invokeListeners()}}]),t}(n.PureComponent),Je=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).pStyle={margin:0,padding:"6px 3px"},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.floor,n=e.row,o=e.rack,i=e.unit,l=e.rackSide;return r.a.createElement(Ie.a,{responsive:!0,bordered:!0,condensed:!0,style:{tableLayout:"fixed"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"\u042d\u0442\u0430\u0436"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"\u0420\u044f\u0434"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"\u0421\u0442\u043e\u0439\u043a\u0430"),r.a.createElement("th",{className:"col-xs-2 text-center",align:"middle"},"Unit"),r.a.createElement("th",{className:"col-xs-3 text-center",align:"middle"},"\u0421\u0442\u043e\u0440\u043e\u043d\u0430 \u0441\u0442\u043e\u0439\u043a\u0438"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(Re,{disabled:!1,tagName:"p",value:a,onChange:t("floor"),style:this.pStyle})),r.a.createElement("td",null,r.a.createElement(Re,{disabled:!1,tagName:"p",value:n,onChange:t("row"),style:this.pStyle})),r.a.createElement("td",null,r.a.createElement(Re,{disabled:!1,tagName:"p",value:o,onChange:t("rack"),style:this.pStyle})),r.a.createElement("td",null,r.a.createElement(Re,{disabled:!1,tagName:"p",value:i,onChange:t("unit"),style:this.pStyle})),r.a.createElement("td",null,r.a.createElement(G,{style:{marginBottom:0},isAsync:!1,optionList:[{value:"Front",label:"Front"},{value:"Back",label:"Back"}],defaultSelected:l,onChange:t("rackSide")})))))}}]),t}(n.PureComponent);Je.defaultProps={floor:"",row:"",rack:"",unit:"",rackSide:""};var We=Je,Xe=function(e){function t(){var e,a,n,r;Object(f.a)(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={show:!1,devId:"",devDataLoading:!1,devDataReady:!1,mngPorts:[],mngIp:"",officeComment:"",loadingOfficeData:!1,officeDataInvalidate:!0,saving:!1,region_id:"",city_id:""},a.clearState=(n=a.state,function(){a.setState(S()(n))}),a.initialData={geoLocation:{},devInfo:{},modules:[],ports:[]},a.clearInitialData=function(e){return function(){a.initialData=S()(e)}}(a.initialData),a.currentState={geoLocation:{},devInfo:{},modules:[],ports:[]},a.clearCurrentState=function(e){return function(){a.currentState=S()(e)}}(a.currentState),a.cityFilter={accessor:"region_id",statement:"=",value:""},a.clearCityFilter=function(e){return function(){a.cityFilter=S()(e)}}(a.cityFilter),a.officeFilter={accessor:"city_id",statement:"=",value:""},a.clearOfficeFilter=function(e){return function(){a.officeFilter=S()(e)}}(a.officeFilter),a.siteInfo={floor:"",row:"",rack:"",unit:"",rackSide:""},a.clearSiteInfo=function(e){return function(){a.siteInfo=S()(e)}}(a.siteInfo),a.clearFormData=function(){a.clearInitialData(),a.clearCurrentState(),a.clearOfficeFilter(),a.clearCityFilter(),a.clearSiteInfo(),a.clearState()},a.vrfList=[],a.getDevLocation=function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get($,{params:{location_id:t}});case 3:if(a=e.sent,(n=a.data).location){e.next=8;break}return console.log("ERROR: getDevLocation for loc_id ",n,t),e.abrupt("return",{});case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: getDevLocation",e.t0.toString()),e.abrupt("return",{});case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.managingIp=function(e){if(y.a.array(e))return e.filter(function(e){return e.port_is_mng}).map(function(e){return e.port_ip}).join(", ")},a.handleShow=function(){a.setState({show:!0})},a.handleClose=function(){a.clearFormData()},a.dataValidate=function(e){var t=[];return y.a.not.number(e.geoLocation.office_id)&&t.push("\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043e\u0444\u0444\u0438\u0441"),t},a.handleSubmit=Object(d.a)(p.a.mark(function e(){var t,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.dataValidate(a.currentState),!y.a.nonEmptyArray(t)){e.next=4;break}return alert(t.join("\n")),e.abrupt("return");case 4:return e.prev=4,a.setState({saving:!0}),e.next=8,C.a.post(H,a.currentState);case 8:if(n=e.sent,!(r=n.data).errors){e.next=12;break}throw r.errors.join("\n");case 12:a.setState({saving:!1}),console.log("SAVE RESULT",r.result),window.updateDevTable?window.updateDevTable():console.log("function updateDevTable not found"),setTimeout(function(){a.handleClose()},700),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(4),console.log("ERROR: ",e.t0),alert(e.t0),a.setState({saving:!1});case 23:case"end":return e.stop()}},e,this,[[4,18]])})),a.onChangeGeoLocation=function(e){return function(){var t=Object(d.a)(p.a.mark(function t(n){var r,o,i,l;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.value,a.currentState.geoLocation[e]=r,"region_id"!==e&&"city_id"!==e||a.setState(Object(c.a)({},e,r)),"office_id"!==e){t.next=22;break}if(a.onChangeDevInfo("location_id")({value:r}),!y.a.emptyString(r)){t.next=12;break}a.currentState.geoLocation.office_comment="",a.setState({officeDataInvalidate:!0,officeComment:""}),t.next=22;break;case 12:return a.setState({officeDataInvalidate:!0,loadingOfficeData:!0}),t.next=15,a.getDevLocation(r);case 15:o=t.sent,i=o.location,l=(l=(void 0===i?{}:i).office_comment)||"",a.currentState.geoLocation.office_comment=l,a.setState({officeComment:l,officeDataInvalidate:!1,loadingOfficeData:!1});case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},a.onChangeOfficeComment=function(e){a.currentState.geoLocation.office_comment=e.target.value,a.setState({officeComment:e.target.value})},a.onChangeDevInfo=function(e){return function(t){var n=t.value;a.currentState.devInfo[e]=n}},a.onChangeDevDetails=function(e){return function(t){var n=t.value,r=a.currentState.devInfo;r.dev_details||(r.dev_details={}),r.dev_details[e]=n}},a.onChangeModule=function(e){return function(t){return function(n){var r=n.value,o=a.currentState.modules;o[t]&&o[t][e]!==r&&(o[t][e]=r)}}},a.changeMngIpString=function(e){if(y.a.array(e)){var t=e.filter(function(e){return e.port_is_mng}).map(function(e){return e.port_ip});t.length>0&&a.setState({mngIp:t.join(", ")})}},a.onChangePorts=function(e){var t=e.ports;t=t.map(function(e){return Object(s.a)({},e,{port_mask_len:""===e.port_mask_len?null:parseInt(e.port_mask_len)})}),a.currentState.ports=t,a.changeMngIpString(a.currentState.ports)},a.onChangeDevLocation=function(e){return function(t){var n=t.value;if(void 0!==n&&a.state.devDataReady){var r=a.currentState.devInfo;r&&(r.dev_details||(r.dev_details={}),r.dev_details.site||(r.dev_details.site=a.siteInfo),r.dev_details.site[e]=n)}}},a.fetchDeviceData=function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get(J,{params:{id:t}});case 3:if(a=e.sent,(n=a.data).devInfo){e.next=8;break}return console.log("ERROR: fetchDeviceData"),e.abrupt("return",{});case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchDeviceData",e.t0.toString()),e.abrupt("return",{});case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.fetchDevModulesData=function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get(W,{params:{id:t}});case 3:if(a=e.sent,(n=a.data).modules){e.next=8;break}return console.log("ERROR: fetchDevModulesData"),e.abrupt("return",[]);case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchDevModulesData",e.t0.toString()),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.fetchDevPortsData=function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get(X,{params:{id:t}});case 3:if(a=e.sent,(n=a.data).ports){e.next=8;break}return console.log("ERROR: fetchDevPortsData"),e.abrupt("return",[]);case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchDevPortsData",e.t0.toString()),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.fetchVrfList=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get(K,{params:{}});case 3:if(t=e.sent,(a=t.data).vrfList){e.next=8;break}return console.log("ERROR: fetchVrfList"),e.abrupt("return",[]);case 8:return e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),console.log("ERROR: fetchVrfList",e.t0.toString()),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[0,11]])})),a.memoizedCityFilter=(r=[],function(){var e=Object.assign({},a.cityFilter,{value:a.state.region_id});return D()(e,r)||(r=e),[r]}),a.memoizedOfficeFilter=function(e){return function(){var t=[Object.assign({},a.cityFilter,{value:a.state.region_id}),Object.assign({},a.officeFilter,{value:a.state.city_id})];return D()(e,t)||(e=t),e}}([]),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.devDataReady,a=this.initialData,o=a.geoLocation,i=a.devInfo,l=a.modules,s=a.ports,c=function(){var e=i&&i.dev_details&&i.dev_details.site?i.dev_details.site:{};return{floor:e.floor,row:e.row,rack:e.rack,unit:e.unit,rackSide:e.rackSide}}();return r.a.createElement(w.a,{show:this.state.show,onHide:this.handleClose,bsSize:"large"},r.a.createElement(I.a,{closeButton:!0},r.a.createElement(w.a.Title,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430")),r.a.createElement(P.a,{className:E.a.modalBody},e.state.show?e.state.devDataReady?r.a.createElement(n.Fragment,null,r.a.createElement(x.a,null,r.a.createElement(L.a,{md:2},r.a.createElement(ie,{onChange:e.onChangeGeoLocation("region_id"),defaultSelected:o.region_id,disabled:!t})),r.a.createElement(L.a,{md:2},r.a.createElement(se,{onChange:e.onChangeGeoLocation("city_id"),defaultSelected:o.city_id,filter:e.memoizedCityFilter(),disabled:!t})),r.a.createElement(L.a,{md:4},r.a.createElement(re,{onChange:e.onChangeGeoLocation("office_id"),defaultSelected:o.office_id,filter:e.memoizedOfficeFilter(),disabled:!t})),r.a.createElement(L.a,{md:4},r.a.createElement(De,{controlId:"officeComment",disabled:e.state.officeDataInvalidate||!t,onChange:e.onChangeOfficeComment,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u043e\u0444\u0438\u0441\u0443",value:e.state.officeComment,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u043e\u0444\u0444\u0438\u0441\u0443"}))),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:3},r.a.createElement(ue,{onChange:e.onChangeDevInfo("dev_type_id"),defaultSelected:i.dev_type_id})),r.a.createElement(L.a,{md:3},r.a.createElement(de,{onChange:e.onChangeDevInfo("platform_id"),defaultSelected:i.platform_id})),r.a.createElement(L.a,{md:3},r.a.createElement(me,{onChange:e.onChangeDevInfo("software_id"),defaultSelected:i.software_id})),r.a.createElement(L.a,{md:3},r.a.createElement(ye,{controlId:"swVer",onChange:e.onChangeDevInfo("software_item_ver"),defaultValue:i.software_item_ver,label:"\u0412\u0435\u0440\u0441\u0438\u044f \u041f\u041e"}))),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:3},r.a.createElement(ye,{controlId:"devSn",addOnPosition:"left",addOnText:"SN",onChange:e.onChangeDevInfo("platform_item_sn"),defaultValue:i.platform_item_sn,label:" ",readOnly:!0})),r.a.createElement(L.a,{md:3},r.a.createElement(ye,{controlId:"devAltSn",addOnPosition:"left",addOnText:"alt SN",onChange:e.onChangeDevInfo("platform_item_sn_alt"),defaultValue:i.platform_item_sn_alt,label:" "})),r.a.createElement(L.a,{md:3},r.a.createElement(ye,{controlId:"hostname",addOnPosition:"left",addOnText:"hostname",onChange:e.onChangeDevDetails("hostname"),defaultValue:i.dev_details&&i.dev_details.hostname,label:" "})),r.a.createElement(L.a,{md:3},r.a.createElement(Ce,{readOnly:!0,controlId:"managementIP",addOnPosition:"left",addOnText:"management IP",onChange:function(){},label:" ",value:e.state.mngIp}))),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(Se,{controlId:"deviceComment",onChange:e.onChangeDevInfo("dev_comment"),placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443",defaultValue:i.dev_comment,label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443"}))),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(we,{title:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f",onChange:e.onChangeDevInfo("dev_in_use"),checked:i.dev_in_use},"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f"))),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:10},r.a.createElement(Ue,{data:l,onChange:e.onChangeModule}))),r.a.createElement(Ze,{data:s,vrfData:e.vrfList,onChange:e.onChangePorts}),r.a.createElement(x.a,null,r.a.createElement(L.a,{md:10},r.a.createElement(We,Object.assign({},c,{onChange:e.onChangeDevLocation}))))):r.a.createElement("h3",{align:"center"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."):null),r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(L.a,{md:8},r.a.createElement("h3",{align:"center",style:{margin:0}},this.state.saving?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445...":"")),r.a.createElement(L.a,{md:4},r.a.createElement(M.a,{onClick:this.handleClose,bsStyle:"danger",disabled:this.state.saving},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(M.a,{onClick:this.handleSubmit,bsStyle:"success",disabled:this.state.saving},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.openEditModal=function(e){t.setState({show:!0,devId:e,devDataReady:!1})};case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a,n,r,o,i,c,u,d,f,m,h,v;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.devId,n=t.devDataReady,r=t.devDataLoading,!a||n||r){e.next=24;break}return this.setState({devDataLoading:!0}),e.prev=3,e.next=6,Promise.all([this.fetchDeviceData(a),this.fetchDevModulesData(a),this.fetchDevPortsData(a),this.fetchVrfList()]);case 6:if(o=e.sent,i=Object(l.a)(o,4),c=i[0].devInfo,u=i[1].modules,d=i[2].ports,f=i[3].vrfList,m={},!c||!c.location_id){e.next=15;break}return e.next=12,this.getDevLocation(c.location_id);case 12:h=e.sent,v=h.location,m={office_id:(p=void 0===v?{}:v).office_id,city_id:p.city_id,region_id:p.region_id,office_comment:p.office_comment};case 15:this.initialData=Object(s.a)({},this.initialData,{devInfo:c,modules:u,ports:d,geoLocation:m}),this.vrfList=f,this.currentState={geoLocation:S()(m),devInfo:S()(c),modules:S()(u),ports:S()(d)},this.setState({devDataLoading:!1,devDataReady:!0}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.log("Loading dev data ERROR",e.t0.toString());case 24:case"end":return e.stop()}var p},e,this,[[3,21]])}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Xe,null),document.getElementById("injectReact")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__1ocN6",indents:"style_indents__CXmar",ip:"style_ip__7oCzC style_indents__CXmar",mask:"style_mask__1pKCo style_indents__CXmar"}},77:function(e,t,a){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__1CpZ5",indents:"style_indents__2Irpo",size:"style_size__QK4yj style_indents__2Irpo"}},78:function(e,t,a){e.exports={formGroupZeroMargin:"style_formGroupZeroMargin__1eXLG",indents:"style_indents__2-inD",size:"style_size__2OfcW style_indents__2-inD"}}},[[131,2,1]]]);
//# sourceMappingURL=main.9c6fc30c.chunk.js.map