{% extends 'Index.html' %}

{% block main %}
    <div class="container-fluid">
        <div class="row">
            <aside>
                <div class="col-xs-2 aside-menu">
                    <div class="section">
                        <a class="btn btn-default" href="/admin/offices">Офисы</a>
                    </div>
                    <div class="section-title">
                        <h4 class="text-center">Справочники</h4>
                    </div>
                    <div class="section">
                        <a class="btn btn-default" href="/admin/offices">Офисы</a>
                        <a class="btn btn-default" href="/admin/regions">Регионы</a>
                        <a class="btn btn-default" href="/admin/cities">Города</a>
                        <a class="btn btn-default" href="/admin/officeStatuses">Статусы офисов</a>
                        <a class="btn btn-default active" href="#">Оборудование</a>
                    </div>
                </div>
            </aside>
            <main class="devices bs3-btn-style" id="bs3-style">
                <div class="col-xs-10">
                    <div class="panel panel-default">
                    	<div class="panel-heading">
                   		    <h3 class="panel-title">Vendors, Hardware, Software, Clusters</h3>
                    	</div>
                    	<div class="panel-body">
                            <div id="hw-sw-dict-tabs" class="hw-sw-dict-tabs col-xs-7">
                                <!-- Nav tabs -->
                                <ul class="hw-tabs" role="tablist">
                                    <li id="tab-platforms" class="" role="presentation"><a href="#platforms" aria-controls="platforms" role="tab">Платформы</a></li>
                                    <li id="tab-software" class="" role="presentation"><a href="#software" aria-controls="software" role="tab">ПО</a></li>
                                    <li id="tab-vendors" class="active" role="presentation"><a href="#vendors" aria-controls="vendors" role="tab">Производители</a></li>
                                    <!-- кластеры доделать потом
                                    <li id="tab-clusters" class="" role="presentation"><a href="#clusters" aria-controls="clusters" role="tab">Кластеры</a></li>
                                    -->
                                </ul>

                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <!-- Vendors -->
                                    <div class="tab-pane active" id="vendors" role="tabpanel"  area-labeled="tab-vendors">
                                        <table id="vendorsTable" class="table table-bordered table-hover table-striped">
                                            <thead>
                                            <tr>
                                                <th class="bg-primary col-vendor">
                                                    <span class="th-divider-left">Производитель</span>
                                                    <span class="th-divider-right">
                                                        <button class="btn btn-success btn-xs" type="button"
                                                                role="button" aria-controls="add-vendor"
                                                                value="open">Добавить
                                                        </button>
                                                    </span>
                                                </th>
                                                <th class="bg-primary col-actions">
                                                    <span class="th-divider-left">Действия</span>
                                                </th>
                                            </tr>
                                            </thead>
                                            <!--Данные-->
                                            <tbody>
                                            {% for vendor in vendors %}
                                                <tr>
                                                    <td class="col-vendor cut-string">
                                                        {{ vendor.title }}
                                                    </td>

                                                    <td class="col-actions">
                                                        <button class="btn btn-success btn-xs"
                                                                role="button" aria-controls="edit-vendor"  value="open"
                                                                data-id="{{ vendor.getPK }}">
                                                            Изменить
                                                        </button>
                                                        <a href="/admin/delVendor?id={{ vendor.getPK }}" class="btn btn-danger btn-xs">Удалить</a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Platforms -->
                                    <div class="tab-pane" id="platforms" role="tabpanel" area-labeledby="tab-platforms">
                                        <table class="table table-bordered table-hover table-striped">
                                            <thead>
                                            <tr>
                                                <th class="bg-primary col-vendor">
                                                    <span class="th-divider-left">Производитель</span>
                                                    <span class="th-divider-right"></span>
                                                </th>
                                                <th class="bg-primary col-platform">
                                                    <span class="th-divider-left">Платформа</span>
                                                    <span class="th-divider-right">
                                                        <button class="btn btn-success btn-xs" type="button"
                                                                role="button" aria-controls="add-platform"
                                                                value="open">Добавить
                                                        </button>
                                                    </span>
                                                </th>

                                                <th class="bg-primary col-actions">
                                                    <span class="th-divider-left">Действия</span>
                                                </th>
                                            </tr>
                                            </thead>
                                            <!--Данные-->
                                            <tbody>
                                            {% for vendor in vendors %}
                                                {% for platform in vendor.platforms %}
                                                    <tr>
                                                        <td class="col-region cut-string">{{ vendor.title }}</td>
                                                        <td class="col-city cut-string">{{ platform.title }}</td>

                                                        <td class="col-actions">
                                                            <button class="btn btn-success btn-xs"
                                                                    role="button" aria-controls="edit-platform"
                                                                    value="open"
                                                                    data-id="{{ platform.getPK }}">
                                                                Изменить
                                                            </button>
                                                            <a href="/admin/delPlatform?id={{ platform.getPK }}" class="btn btn-danger btn-xs">Удалить</a>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Software -->
                                    <div class="tab-pane" id="software" role="tabpanel" area-labeledby="tab-software">
                                        <table class="table table-bordered table-hover table-striped">
                                            <thead>
                                            <tr>
                                                <th class="bg-primary col-vendor">
                                                    <span class="th-divider-left">Производитель</span>
                                                    <span class="th-divider-right"></span>
                                                </th>
                                                <th class="bg-primary col-software">
                                                    <span class="th-divider-left">Тип ПО</span>
                                                    <span class="th-divider-right">
                                                        <button class="btn btn-success btn-xs" type="button"
                                                                role="button" aria-controls="add-software"
                                                                value="open">Добавить
                                                        </button>
                                                    </span>
                                                </th>

                                                <th class="bg-primary col-actions">
                                                    <span class="th-divider-left">Действия</span>
                                                </th>
                                            </tr>
                                            </thead>
                                            <!--Данные-->
                                            <tbody>
                                            {% for vendor in vendors %}
                                                {% for software in vendor.software %}
                                                    <tr>
                                                        <td class="col-region cut-string">{{ vendor.title }}</td>
                                                        <td class="col-city cut-string">{{ software.title }}</td>

                                                        <td class="col-actions">
                                                            <button class="btn btn-success btn-xs"
                                                                    role="button" aria-controls="edit-software"
                                                                    value="open"
                                                                    data-id="{{ vendor.getPK }}">
                                                                Изменить
                                                            </button>
                                                            <a href="/admin/delSoftware?id={{ software.getPK }}" class="btn btn-danger btn-xs">Удалить</a>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Clusters -->
                                    <div class="tab-pane" id="clusters" role="tabpanel" area-labeledby="tab-clusters">
                                        ...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
{% endblock %}
{% block modal %}
    <!-- Модальные окна добавления, изменения вендора -->
    <div id="add-vendor" role="dialog" title="Новый вендор">
        <form action="/admin/addVendor" method="post" role="form">
            <div class="form-group">
                <label for="id-vendor"></label>
                <input type="text" class="form-control" name="vendor[one]" id="id-vendor" placeholder="Новый вендор">
            </div>
            <div class="form-group">
                <label for="id-vendors"></label>
                <textarea name="vendor[many]" id="id-vendors" cols="41" rows="10" placeholder="Список вендоров через запятую"></textarea>
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="add-vendor" value="close">
                Отмена
            </button>
        </form>
    </div>

    <div id="edit-vendor" role="dialog" title="Редактировать вендора">
        <form action="/admin/editVendor" method="post" role="form">
            <div class="form-group">
                <label for="id-edit-vendor"></label>
                <input type="text" class="form-control" name="vendor[one]" id="id-edit-vendor" placeholder="Новый вендор">
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="edit-vendor" value="close">
                Отмена
            </button>
        </form>
    </div>

    <!-- Модальные окна добавления, изменения HW платформы -->
    <div id="add-platform" role="dialog" title="Новая платформа">
        <form action="/admin/addPlatform" method="post" role="form">
            <div class="form-group">
                <label for="id-vendor">Vendor</label>
                <select name="platform[vendorId]" id="id-vendor" class="form-control">
                    {% for vendor in vendors %}
                        <option value="{{ vendor.getPK }}">{{ vendor.title }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="id-platform">HW platform</label>
                <input type="text" class="form-control" name="platform[title]" id="id-platform" placeholder="Новая платформа">
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="add-platform" value="close">
                Отмена
            </button>
        </form>
    </div>

    <div id="edit-platform" role="dialog" title="Редактирование платформы">
        <form action="#" method="post" role="form">
            <div class="form-group">
                <label for="id-vendor">Vendor</label>
                <select name="platform[vendorId]" id="id-vendor" class="form-control">
                    {% for vendor in vendors %}
                        <option value="{{ vendor.getPK }}">{{ vendor.title }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="id-platform">HW platform</label>
                <input type="text" class="form-control" name="platform[title]" id="id-platform" placeholder="Новая платформа">
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="edit-platform" value="close">
                Отмена
            </button>
        </form>
    </div>

    <!-- Модальные окна добавления, изменения SW платформы -->
    <div id="add-software" role="dialog" title="Новый тип ПО">
        <form action="/admin/addSoftware" method="post" role="form">
            <div class="form-group">
                <label for="id-vendor">Производитель</label>
                <select name="software[vendorId]" id="id-vendor" class="form-control">
                    {% for vendor in vendors %}
                        <option value="{{ vendor.getPK }}">{{ vendor.title }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="id-software">Тип ПО</label>
                <input type="text" class="form-control" name="software[title]" id="id-software" placeholder="Новый тип ПО">
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="add-software" value="close">
                Отмена
            </button>
        </form>
    </div>

    <div id="edit-software" role="dialog" title="Редактирование типа ПО">
        <form action="#" method="post" role="form">
            <div class="form-group">
                <label for="id-vendor">Производитель</label>
                <select name="software[vendorId]" id="id-vendor" class="form-control">
                    {% for vendor in vendors %}
                        <option value="{{ vendor.getPK }}">{{ vendor.title }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="id-software">Тип ПО</label>
                <input type="text" class="form-control" name="software[title]" id="id-software" placeholder="Новый тип ПО">
            </div>

            <button class="btn btn-success" type="submit">Создать</button>
            <button class="btn btn-danger" type="button" role="button" aria-controls="edit-software" value="close">
                Отмена
            </button>
        </form>
    </div>



{% endblock %}